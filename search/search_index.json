{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"repoindex","text":"<p>A filesystem git catalog for your repository collection.</p> <p>repoindex provides a unified view across all your local git repositories, enabling queries, organization, and integration with LLM tools like Claude Code.</p>"},{"location":"#philosophy","title":"Philosophy","text":"<pre><code>Claude Code (deep work on ONE repo)\n         |\n         | \"What else do I have?\"\n         | \"Which repos need X?\"\n         v\n      repoindex (collection awareness)\n         |\n         +-- status      -&gt; what exists\n         +-- tags        -&gt; organization\n         +-- query       -&gt; discovery\n         +-- events      -&gt; what happened\n</code></pre> <p>Core Principles:</p> <ol> <li>Collection, not content - Know about repos, not inside them</li> <li>Metadata, not manipulation - Track state, don't edit files</li> <li>Index, not IDE - We're the catalog, not the workbench</li> <li>Unix philosophy - Pretty tables by default, JSONL for pipes</li> <li>Read-only events - Observe and report, don't act</li> </ol>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install\npip install repoindex\n\n# Initialize configuration\nrepoindex config init\n\n# Refresh database (required before queries)\nrepoindex refresh\n\n# Dashboard overview\nrepoindex status\n\n# Query with convenience flags\nrepoindex query --dirty                    # Uncommitted changes\nrepoindex query --language python          # Python repos\nrepoindex query --recent 7d                # Recent commits\nrepoindex query --tag \"work/*\"             # By tag\n\n# Tag repositories for organization\nrepoindex tag add myproject work/active\nrepoindex tag add myproject topic:ml\n\n# See what happened\nrepoindex events --since 7d\n</code></pre>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#query-system","title":"Query System","text":"<p>Find repositories with convenience flags or the query DSL:</p> <pre><code># Convenience flags (pretty table by default)\nrepoindex query --dirty                    # Uncommitted changes\nrepoindex query --language python          # Python repos\nrepoindex query --starred                  # Has GitHub stars (requires --github during refresh)\nrepoindex query --has-citation             # Has citation files\nrepoindex query --has-doi                  # Has DOI in citation\n\n# Query DSL\nrepoindex query \"language == 'Python' and github_stars &gt; 10\"\nrepoindex query \"language ~= 'pyton'\"      # Fuzzy matching (typo-tolerant)\nrepoindex query \"tagged('work/*')\"         # Query by tag\n\n# JSONL output for piping\nrepoindex query --json --language python | jq '.name'\n</code></pre> <p>See Query Language for syntax details.</p>"},{"location":"#event-system","title":"Event System","text":"<p>Track what's happening across your entire collection:</p> <pre><code># Events from database (pretty table by default)\nrepoindex events --since 7d\n\n# Filter by type\nrepoindex events --type git_tag --since 30d\nrepoindex events --type commit --since 7d\n\n# Filter by repository\nrepoindex events --repo myproject\n\n# Summary statistics\nrepoindex events --stats\n\n# JSONL for piping\nrepoindex events --json --since 7d | jq '.type' | sort | uniq -c\n</code></pre> <p>Event categories: - Local git: tags, commits, branches, merges</p> <p>See Events Overview for full documentation.</p>"},{"location":"#tag-system","title":"Tag System","text":"<p>Organize repos with hierarchical tags:</p> <pre><code># Add tags\nrepoindex tag add myproject work/active\nrepoindex tag add myproject topic:ml/research\n\n# List by tag\nrepoindex tag list -t \"work/*\"\n\n# Show tag hierarchy\nrepoindex tag tree\n</code></pre> <p>Tags support: - Hierarchical paths: <code>work/active</code>, <code>topic/ml/research</code> - Key:value format: <code>lang:python</code>, <code>status:maintained</code> - Implicit tags: Auto-generated from metadata (<code>repo:name</code>, <code>dir:parent</code>)</p>"},{"location":"#interactive-shell","title":"Interactive Shell","text":"<p>VFS-based shell for navigating your collection:</p> <pre><code>repoindex shell\n\n# Navigate like a filesystem\n&gt; cd /by-tag/work/active\n&gt; ls\nmyproject  otherproject\n\n# Run events from shell\n&gt; events --since 1d\n</code></pre> <p>See Shell &amp; VFS for details.</p>"},{"location":"#output-formats","title":"Output Formats","text":"<p>Commands output pretty tables by default. Use <code>--json</code> for JSONL:</p> <pre><code># Pretty tables (default)\nrepoindex query --language python\nrepoindex events --since 7d\n\n# JSONL for piping/scripting\nrepoindex query --json --language python | jq '.name'\nrepoindex events --json --since 7d | jq '.type' | sort | uniq -c\n\n# Brief output (just repo names)\nrepoindex query --brief --dirty\n</code></pre>"},{"location":"#refresh-database","title":"Refresh Database","text":"<pre><code>repoindex refresh                  # Smart refresh (changed repos only)\nrepoindex refresh --full           # Force full refresh\nrepoindex refresh --github         # Include GitHub metadata\nrepoindex refresh --pypi           # Include PyPI package status\nrepoindex refresh --cran           # Include CRAN package status\nrepoindex refresh --external       # Include all external metadata\nrepoindex refresh --since 30d      # Events from last 30 days\n</code></pre>"},{"location":"#configuration","title":"Configuration","text":"<p>Configuration lives in <code>~/.repoindex/config.yaml</code>:</p> <pre><code>repository_directories:\n  - ~/projects\n  - ~/work/**\n\ngithub:\n  token: ghp_...\n\nrepository_tags:\n  /path/to/repo:\n    - topic:ml\n    - work/active\n</code></pre> <p>Or use environment variables: - <code>REPOINDEX_GITHUB_TOKEN</code> - <code>REPOINDEX_CONFIG</code></p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Getting Started - Installation and first steps</li> <li>Usage Guide - Core commands and configuration</li> <li>Events - Event system documentation</li> <li>Query Language - Query syntax and examples</li> <li>Shell &amp; VFS - Interactive shell</li> <li>Changelog - Release history</li> </ul>"},{"location":"#for-claude-code-users","title":"For Claude Code Users","text":"<p>repoindex complements Claude Code by providing collection awareness. While Claude Code works deeply within a single repository, repoindex answers questions like:</p> <ul> <li>\"Which of my repos have uncommitted changes?\"</li> <li>\"What got released this week?\"</li> <li>\"Which repos use Python?\"</li> <li>\"What needs attention?\"</li> </ul> <p>Install the skill for easy access:</p> <pre><code>repoindex claude install --global\n</code></pre> <p>Then use <code>/repoindex</code> in Claude Code conversations.</p>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub: github.com/queelius/repoindex</li> <li>Issues: GitHub Issues</li> <li>PyPI: pypi.org/project/repoindex</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE</p>"},{"location":"architecture-vision/","title":"repoindex Architecture Vision","text":""},{"location":"architecture-vision/#overview","title":"Overview","text":"<p>repoindex is a comprehensive multi-platform git project management system that helps developers manage the full lifecycle of their projects across multiple platforms - from local development through hosting, distribution, documentation, and promotion.</p>"},{"location":"architecture-vision/#core-philosophy","title":"Core Philosophy","text":"<ul> <li>Local-first with remote awareness: Your local git repositories are the ground truth</li> <li>Unix Philosophy: Commands do one thing well and compose via JSONL streams  </li> <li>Extensible: Plugin architecture for providers and custom operations</li> <li>Unified Interface: One tool to manage projects across all platforms</li> </ul>"},{"location":"architecture-vision/#jsonl-the-universal-interface","title":"JSONL: The Universal Interface","text":"<p>Every repoindex command outputs newline-delimited JSON (JSONL) by default, making it perfect for pipeline composition with standard Unix tools.</p>"},{"location":"architecture-vision/#why-jsonl","title":"Why JSONL?","text":"<ul> <li>Streamable: Process millions of repos without loading all into memory</li> <li>Composable: Pipe through <code>jq</code>, <code>grep</code>, <code>awk</code>, or custom scripts</li> <li>Parseable: Every line is valid JSON, easy to process in any language</li> <li>Human-friendly: Use <code>--pretty</code> flag when you want formatted tables</li> </ul>"},{"location":"architecture-vision/#pipeline-examples","title":"Pipeline Examples","text":"<pre><code># Find Python projects with uncommitted changes\nrepoindex status | jq 'select(.has_uncommitted_changes == true and .language == \"Python\")'\n\n# List repos with both GitHub and PyPI presence  \nrepoindex query --json | jq 'select(.topics | contains([\"pypi\"]) and .provider == \"github\")'\n\n# Get total stars across all projects\nrepoindex query \"provider == 'github'\" | jq -s 'map(.stargazers_count // 0) | add'\n\n# Find outdated documentation\nrepoindex metadata refresh | \\\n  jq 'select(.has_pages == true and (.pushed_at | fromdateiso8601) &lt; (now - 86400 * 30))'\n\n# Export active projects to Hugo\nrepoindex query \"has_uncommitted or open_issues_count &gt; 0\" | \\\n  repoindex export --format hugo --stdin\n\n# Chain operations: find, update, and report\nrepoindex query --json | \\\n  jq 'select(.language == \"Python\" and .topics | contains([\"cli\"]))' | \\\n  jq -r '.path' | \\\n  xargs -I {} repoindex update {} | \\\n  jq '{repo: .name, status: .update_status}'\n\n# Complex aggregation: repos by language\nrepoindex query --json | \\\n  jq -s 'group_by(.language) | \n    map({language: .[0].language, count: length, stars: map(.stargazers_count // 0) | add})'\n</code></pre>"},{"location":"architecture-vision/#structured-output-schema","title":"Structured Output Schema","text":"<p>Every command returns predictable JSON structures:</p> <pre><code>// repoindex status output\n{\n  \"path\": \"/home/user/projects/myrepo\",\n  \"name\": \"myrepo\",\n  \"provider\": \"github\",\n  \"has_uncommitted_changes\": true,\n  \"branch\": \"main\",\n  \"language\": \"Python\",\n  \"stargazers_count\": 42\n}\n\n// repoindex query output  \n{\n  \"path\": \"/home/user/projects/myrepo\",\n  \"name\": \"myrepo\",\n  \"tags\": [\"lang:python\", \"tool:cli\"],\n  \"language\": \"Python\",\n  \"stars\": 42\n}\n</code></pre> <p>This enables powerful workflows: <pre><code># Morning routine: check what needs attention\nrepoindex status | jq -r '\n  select(.has_uncommitted_changes or .open_issues_count &gt; 0) | \n  \"\\(.name): \\(\n    if .has_uncommitted_changes then \"uncommitted changes\" else \"\" end\n  ) \\(\n    if .open_issues_count &gt; 0 then \"\\(.open_issues_count) issues\" else \"\" end\n  )\"'\n</code></pre></p>"},{"location":"architecture-vision/#repoindex-repository-operations","title":"<code>repoindex</code> - Repository Operations","text":"<p>Focus: Direct operations on git repositories <pre><code>repoindex status     # Repository health and metadata\nrepoindex sync       # Sync with remotes\nrepoindex clean      # Cleanup operations\nrepoindex backup     # Archive repositories\nrepoindex migrate    # Move between services (GitHub -&gt; GitLab)\nrepoindex health     # Check repository integrity\n</code></pre></p>"},{"location":"architecture-vision/#ghj-github-metadata-search","title":"<code>ghj</code> - GitHub Metadata &amp; Search","text":"<p>Focus: GitHub API data mining and analysis <pre><code>ghj search --query \"language:python stars:&gt;100\"\nghj analyze --user username\nghj export --format csv\n</code></pre></p>"},{"location":"architecture-vision/#repodocs-documentation-generation","title":"<code>repodocs</code> - Documentation Generation","text":"<p>Focus: Transform repositories into documentation sites <pre><code>repodocs generate --input repos.jsonl --output-dir ./site\nrepodocs hugo --theme academic\nrepodocs search-index --engine lunr\n</code></pre></p>"},{"location":"architecture-vision/#data-flow-architecture","title":"Data Flow Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    JSONL    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    JSONL    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  repoindex  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192  \u2502    jq    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192  \u2502 repodocs \u2502\n\u2502 status  \u2502             \u2502 filter   \u2502             \u2502 generate \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                       \u2502                       \u2502\n     \u2502                       \u25bc                       \u25bc\n     \u2502                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502                  \u2502   ghj    \u2502             \u2502   Hugo   \u2502\n     \u2502                  \u2502 enrich   \u2502             \u2502   Site   \u2502\n     \u2502                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502\n     \u25bc JSONL\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Custom   \u2502\n\u2502 Scripts  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture-vision/#repoindex-export-group-proposal","title":"repoindex Export Group Proposal","text":"<p>For the export functionality in <code>repoindex</code>, focus on repository-level operations:</p>"},{"location":"architecture-vision/#export-operations","title":"Export Operations","text":"<pre><code># Repository migration\nrepoindex export github-to-gitlab --repos repos.jsonl\nrepoindex export backup --format tar.gz\nrepoindex export clone-bundle --include-lfs\n\n# Integration exports\nrepoindex export dashboard --format json    # For external dashboards\nrepoindex export metrics --format prometheus\nrepoindex export inventory --format csv\n</code></pre>"},{"location":"architecture-vision/#not-in-repoindex-export","title":"NOT in repoindex export","text":"<ul> <li>Documentation generation (belongs in <code>repodocs</code>)</li> <li>Markdown conversion (belongs in <code>repodocs</code>) </li> <li>Static site generation (belongs in <code>repodocs</code>)</li> </ul>"},{"location":"architecture-vision/#example-workflow","title":"Example Workflow","text":"<pre><code># 1. Discover and analyze repositories\nrepoindex status --recursive &gt; repos.jsonl\n\n# 2. Filter for specific criteria\ncat repos.jsonl | jq 'select(.github.on_github and .license.name)' &gt; public-repos.jsonl\n\n# 3. Migrate to GitLab\nrepoindex export github-to-gitlab --input public-repos.jsonl\n\n# 4. Generate documentation site\nrepodocs generate --input public-repos.jsonl --template hugo-academic\n\n# 5. Enrich with GitHub API data\nghj enrich --input public-repos.jsonl &gt; enriched-repos.jsonl\n</code></pre>"},{"location":"architecture-vision/#plugin-architecture-for-repoindex","title":"Plugin Architecture for repoindex","text":"<pre><code># repoindex/plugins/export/gitlab.py\n@click.command(\"gitlab\")\n@click.option(\"--input\", type=click.File('r'))\ndef export_to_gitlab(input):\n    \"\"\"Export repositories to GitLab.\"\"\"\n    for line in input:\n        repo = json.loads(line)\n        # Migration logic here\n        yield {\"repo\": repo[\"name\"], \"status\": \"migrated\", \"url\": new_url}\n</code></pre>"},{"location":"architecture-vision/#benefits-of-this-architecture","title":"Benefits of This Architecture","text":"<ol> <li>Focused Tools: Each tool has a clear, single responsibility</li> <li>Composability: JSONL streaming enables powerful combinations</li> <li>Extensibility: Plugin architecture for custom operations</li> <li>Reusability: Components can be mixed and matched</li> <li>Maintenance: Easier to maintain smaller, focused codebases</li> </ol>"},{"location":"architecture-vision/#recommendation","title":"Recommendation","text":"<p>Keep <code>repoindex</code> focused on repository operations. Add export functionality for: - Repository migration between services - Backup and archival operations - Integration with external tools (dashboards, monitoring)</p> <p>Create separate tools for documentation generation and GitHub API analysis.</p>"},{"location":"catalog-query/","title":"Tags and Query Language","text":"<p>repoindex provides powerful tools for organizing and finding repositories through its tagging system and query language.</p>"},{"location":"catalog-query/#tag-system","title":"Tag System","text":"<p>The tag system allows you to organize repositories with hierarchical tags, both explicit (user-defined) and implicit (auto-generated).</p>"},{"location":"catalog-query/#adding-tags","title":"Adding Tags","text":"<pre><code># Add tags to a repository\nrepoindex tag add myproject python ml research\n\n# Add hierarchical tags\nrepoindex tag add myproject work/active\nrepoindex tag add myproject topic:ml/research\n\n# Add to multiple repos\nrepoindex tag add project1 client-work urgent\nrepoindex tag add project2 client-work completed\n</code></pre>"},{"location":"catalog-query/#viewing-tags","title":"Viewing Tags","text":"<pre><code># List all tags\nrepoindex tag list\n\n# List repositories with a specific tag\nrepoindex tag list -t python\n\n# List repositories matching tag pattern\nrepoindex tag list -t \"work/*\"\n\n# Show tags for a specific repository\nrepoindex tag list -r myproject\n\n# Show tag hierarchy as tree\nrepoindex tag tree\n\n# Show subtree\nrepoindex tag tree -t work\n</code></pre>"},{"location":"catalog-query/#removing-tags","title":"Removing Tags","text":"<pre><code># Remove specific tags\nrepoindex tag remove myproject urgent\n\n# Remove hierarchical tag\nrepoindex tag remove myproject work/active\n</code></pre>"},{"location":"catalog-query/#moving-between-tags","title":"Moving Between Tags","text":"<pre><code># Move from one tag to another (removes old, adds new)\nrepoindex tag move myproject work/active work/completed\n</code></pre>"},{"location":"catalog-query/#tag-formats","title":"Tag Formats","text":"<p>Simple tags: <pre><code>repoindex tag add myproject python ml research\n</code></pre></p> <p>Hierarchical tags: <pre><code>repoindex tag add myproject work/active\nrepoindex tag add myproject client/acme/backend\n</code></pre></p> <p>Key:value tags: <pre><code>repoindex tag add myproject topic:ml\nrepoindex tag add myproject status:maintained\nrepoindex tag add myproject topic:scientific/engineering/ai\n</code></pre></p>"},{"location":"catalog-query/#implicit-tags","title":"Implicit Tags","text":"<p>The system automatically generates implicit tags from repository metadata:</p> Tag Pattern Description Example <code>repo:NAME</code> Repository name <code>repo:repoindex</code> <code>lang:LANGUAGE</code> Primary language <code>lang:python</code> <code>dir:PARENT</code> Parent directory <code>dir:work</code> <code>org:OWNER</code> GitHub organization <code>org:facebook</code> <code>has:LICENSE</code> Has license file <code>has:license</code> <code>has:README</code> Has README file <code>has:readme</code> <code>has:DOCS</code> Has documentation <code>has:docs</code> <code>tool:TOOL</code> Documentation tool <code>tool:mkdocs</code> <code>license:TYPE</code> License type <code>license:mit</code> <code>topic:TOPIC</code> GitHub topics <code>topic:machine-learning</code>"},{"location":"catalog-query/#query-language","title":"Query Language","text":"<p>The query command provides fuzzy matching and complex boolean expressions.</p>"},{"location":"catalog-query/#citation-metadata-fields","title":"Citation Metadata Fields","text":"<p>Repositories with CITATION.cff or .zenodo.json files have these queryable fields:</p> Field Description <code>citation_doi</code> DOI identifier (e.g., \"10.5281/zenodo.1234567\") <code>citation_title</code> Software title from citation file <code>citation_authors</code> JSON array of author objects <code>citation_version</code> Version from citation file <code>citation_repository</code> Repository URL from citation file <code>citation_license</code> License from citation file <p>Query examples: <pre><code># Repos with DOI\nrepoindex query --has-doi\nrepoindex query \"citation_doi != ''\"\n\n# SQL queries for citation data\nrepoindex sql \"SELECT name, citation_doi, citation_title FROM repos WHERE citation_doi IS NOT NULL\"\n</code></pre></p>"},{"location":"catalog-query/#basic-syntax","title":"Basic Syntax","text":"<pre><code># Simple equality\nrepoindex query \"language == 'Python'\"\n\n# Fuzzy matching with ~=\nrepoindex query \"language ~= 'pyton'\"  # Matches Python\n\n# Comparisons\nrepoindex query \"stars &gt; 10\"\nrepoindex query \"forks &gt;= 5\"\nrepoindex query \"created_at &lt; '2023-01-01'\"\n\n# Contains operator\nrepoindex query \"'machine-learning' in topics\"\nrepoindex query \"topics contains 'ml'\"\n\n# Not equal\nrepoindex query \"license.key != 'proprietary'\"\n</code></pre>"},{"location":"catalog-query/#complex-expressions","title":"Complex Expressions","text":"<pre><code># AND operations\nrepoindex query \"stars &gt; 10 and language == 'Python'\"\n\n# OR operations\nrepoindex query \"language == 'Python' or language == 'JavaScript'\"\n\n# Parentheses for grouping\nrepoindex query \"(stars &gt; 5 or forks &gt; 2) and language ~= 'python'\"\n\n# Nested field access\nrepoindex query \"license.name contains 'MIT'\"\nrepoindex query \"remote.owner == 'myorg'\"\n</code></pre>"},{"location":"catalog-query/#fuzzy-matching","title":"Fuzzy Matching","text":"<p>The <code>~=</code> operator uses fuzzy string matching:</p> <pre><code># Typos are forgiven\nrepoindex query \"name ~= 'djago'\"  # Matches django\n\n# Partial matches\nrepoindex query \"description ~= 'web framework'\"\n\n# Case insensitive\nrepoindex query \"language ~= 'PYTHON'\"\n</code></pre>"},{"location":"catalog-query/#tag-queries","title":"Tag Queries","text":"<pre><code># Check if tag exists\nrepoindex query \"'python' in tags\"\n\n# Check for hierarchical tag\nrepoindex query \"'work/active' in tags\"\n\n# Combine with other conditions\nrepoindex query \"'ml' in tags and stars &gt; 5\"\n</code></pre>"},{"location":"catalog-query/#combining-tags-and-queries","title":"Combining Tags and Queries","text":"<p>Use both systems together for powerful filtering:</p> <pre><code># Tag-based filtering with query refinement\nrepoindex query --json --tag \"lang:python\" | jq 'select(.stars &gt; 5)'\n\n# Query with tag conditions\nrepoindex query \"'work' in tags and language == 'Python'\"\n\n# Find repos with specific tag and status\nrepoindex query \"'client:acme' in tags and not archived\"\n</code></pre>"},{"location":"catalog-query/#common-patterns","title":"Common Patterns","text":""},{"location":"catalog-query/#project-organization","title":"Project Organization","text":"<pre><code># Tag by project status\nrepoindex tag add project1 status/active in-development\nrepoindex tag add project2 status/completed archived\nrepoindex tag add project3 status/active needs-review\n\n# Find active projects needing review\nrepoindex query \"'status/active' in tags and 'needs-review' in tags\"\n</code></pre>"},{"location":"catalog-query/#client-work","title":"Client Work","text":"<pre><code># Tag by client\nrepoindex tag add webapp client/acme web\nrepoindex tag add api client/acme backend\nrepoindex tag add report client/bigco analysis\n\n# All work for a client\nrepoindex tag list -t \"client/acme\"\n</code></pre>"},{"location":"catalog-query/#technology-stacks","title":"Technology Stacks","text":"<pre><code># Tag by stack\nrepoindex tag add frontend react typescript webpack\nrepoindex tag add backend python django postgresql\nrepoindex tag add mobile flutter dart\n\n# Find all TypeScript projects (using implicit tag)\nrepoindex query --json --tag \"lang:typescript\"\n\n# Or explicit tag\nrepoindex tag list -t typescript\n</code></pre>"},{"location":"catalog-query/#maintenance-status","title":"Maintenance Status","text":"<pre><code># Tag by maintenance needs\nrepoindex tag add oldproject needs/update needs/tests\nrepoindex tag add newproject well-maintained has-ci\n\n# Find projects needing attention\nrepoindex tag list -t \"needs/*\"\n</code></pre>"},{"location":"catalog-query/#query-examples","title":"Query Examples","text":""},{"location":"catalog-query/#finding-repositories","title":"Finding Repositories","text":"<pre><code># Popular Python projects\nrepoindex query \"language == 'Python' and stars &gt; 10\"\n\n# Recently updated\nrepoindex query \"updated_at &gt; '2024-01-01'\"\n\n# Projects without licenses\nrepoindex query \"not has_license\"\n\n# Large projects\nrepoindex query \"file_count &gt; 1000 or total_size &gt; 10000000\"\n\n# ML projects\nrepoindex query \"'machine-learning' in topics or 'ml' in topics or name contains 'learn'\"\n</code></pre>"},{"location":"catalog-query/#complex-queries","title":"Complex Queries","text":"<pre><code># Active web projects\nrepoindex query \"(language == 'JavaScript' or language == 'TypeScript') and updated_at &gt; '2023-06-01' and ('web' in topics or description contains 'web')\"\n\n# Python packages on PyPI\nrepoindex query \"language == 'Python' and has_package == true and package.registry == 'pypi'\"\n\n# Documentation sites\nrepoindex query \"has_docs == true and (has_pages == true or homepage contains 'github.io')\"\n</code></pre>"},{"location":"catalog-query/#integration-with-events","title":"Integration with Events","text":"<p>Combine tags with event monitoring:</p> <pre><code># Events for tagged repos\nrepoindex events --since 7d -t \"work/active\" --pretty\n\n# Find repos with recent releases\nrepoindex events --type git_tag --since 30d | jq -r '.repo' | sort -u\n</code></pre>"},{"location":"catalog-query/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use Namespaces: Prefix related tags (e.g., <code>client/*</code>, <code>project/*</code>, <code>status/*</code>)</p> </li> <li> <p>Hierarchical Organization: Use paths for related concepts    <pre><code>repoindex tag add myproject work/client/acme/backend\n</code></pre></p> </li> <li> <p>Combine Systems: Use tags for stable categorization, queries for dynamic filtering</p> </li> <li> <p>Regular Cleanup: Remove obsolete tags periodically    <pre><code># Find and remove obsolete tags\nrepoindex tag list -t obsolete | jq -r '.name' | \\\n  xargs -I {} repoindex tag remove {} obsolete\n</code></pre></p> </li> <li> <p>Document Conventions: Keep a README of your tagging conventions</p> </li> </ol>"},{"location":"catalog-query/#shell-vfs-integration","title":"Shell VFS Integration","text":"<p>The interactive shell provides a filesystem view of your tags:</p> <pre><code>repoindex shell\n\n# Navigate tag hierarchy\n&gt; cd /by-tag/work/active\n&gt; ls\n\n# Add tags via filesystem operations\n&gt; cp /repos/myproject /by-tag/work/active\n\n# Move between tags\n&gt; mv /by-tag/work/active/myproject /by-tag/work/completed\n\n# Remove tags\n&gt; rm /by-tag/work/active/myproject\n</code></pre> <p>See Shell &amp; VFS for details.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to repoindex will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#082-2025-12-15","title":"[0.8.2] - 2025-12-15","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Expanded Event System: 28 total event types across multiple categories</li> <li>Local metadata events: <code>license_change</code>, <code>ci_config_change</code>, <code>docs_change</code>, <code>readme_change</code></li> <li>GitHub repo events: <code>repo_rename</code>, <code>repo_transfer</code>, <code>repo_visibility</code>, <code>repo_archive</code></li> <li>Registry events: <code>gem_publish</code> (RubyGems), <code>nuget_publish</code> (NuGet), <code>maven_publish</code> (Maven)</li> <li>Config-driven event defaults: Set <code>events.default_types</code> in config</li> <li>Improved event limits: Default increased to 100, <code>--limit 0</code> for unlimited</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Default event types now only include fast local events (no API calls by default)</li> <li>Event system optimized for speed-first operation</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Test suite improvements (625 tests passing)</li> </ul>"},{"location":"changelog/#081-2025-12-14","title":"[0.8.1] - 2025-12-14","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Additional registry events: <code>npm_publish</code>, <code>cargo_publish</code>, <code>docker_publish</code></li> <li>Local metadata events: <code>version_bump</code>, <code>deps_update</code></li> <li>GitHub security alerts: <code>security_alert</code> event type</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Event scanning now uses stateless time-based filtering</li> <li>Improved JSONL streaming for large event sets</li> </ul>"},{"location":"changelog/#080-2025-12-01","title":"[0.8.0] - 2025-12-01","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>Comprehensive Event System: Stateless event detection across repositories</li> <li>Local git events: <code>git_tag</code>, <code>commit</code>, <code>branch</code>, <code>merge</code></li> <li>GitHub events: <code>github_release</code>, <code>pr</code>, <code>issue</code>, <code>workflow_run</code></li> <li>Registry events: <code>pypi_publish</code>, <code>cran_publish</code></li> <li>Event command: <code>repoindex events</code> with time-based filtering</li> <li>Watch mode: Continuous event monitoring with <code>--watch</code></li> <li>Statistics: Event summaries with <code>--stats</code></li> <li>MCP Server: Model Context Protocol server for LLM integration</li> <li>CRAN package detection: R package registry support</li> </ul>"},{"location":"changelog/#changed_2","title":"Changed","text":"<ul> <li>Refocused on core functionality: metadata index, events, queries</li> <li>Simplified architecture following Unix philosophy</li> <li>All commands output JSONL by default</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>Clustering integration (repository clustering algorithms)</li> <li>Workflow orchestration engine</li> <li>Jupyter notebook tutorials</li> <li>Social media automation</li> <li>LLM content generation</li> <li>Export components (HTML, PDF, LaTeX generation)</li> </ul>"},{"location":"changelog/#07x-previous-releases","title":"[0.7.x] - Previous Releases","text":"<p>See git history for older releases. The project underwent significant refactoring in 0.8.0 to focus on core metadata indexing and event detection functionality.</p>"},{"location":"changelog/#migration-notes","title":"Migration Notes","text":""},{"location":"changelog/#from-07x-to-08x","title":"From 0.7.x to 0.8.x","text":"<p>The 0.8.0 release represents a significant refocus of the project:</p> <p>Removed features: - <code>repoindex cluster</code> commands (clustering, consolidation) - <code>repoindex workflow</code> commands - <code>repoindex social</code> commands - <code>repoindex export</code> (HTML, PDF generation) - Jupyter notebook tutorials</p> <p>New focus: - Event-driven awareness across repository collections - Fast local scanning by default - JSONL output for Unix pipeline composition - MCP server for LLM integration</p> <p>Configuration changes: - Config location: <code>~/.repoindex/config.json</code> - New <code>events.default_types</code> option - Removed clustering, workflow, social media config sections</p>"},{"location":"contributing/","title":"Contributing to repoindex","text":"<p>Thank you for your interest in contributing to repoindex!</p>"},{"location":"contributing/#how-to-contribute","title":"How to Contribute","text":"<ul> <li>Fork the repository and create your branch from <code>main</code>.</li> <li>Install dependencies with <code>make install</code> and activate the <code>.venv</code>.</li> <li>Run tests with <code>make test</code> before submitting a PR.</li> <li>Add or update documentation in the <code>docs/</code> directory as needed.</li> <li>Follow the code style and conventions used in the project.</li> <li>Submit a pull request with a clear description of your changes.</li> </ul>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<ul> <li>Please use the GitHub Issues tracker to report bugs or request features.</li> <li>Include as much detail as possible to help us reproduce the issue.</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>All contributors are expected to follow the Contributor Covenant code of conduct.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Get up and running with repoindex in minutes.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8 or higher</li> <li>Git installed and configured</li> <li>Optional: GitHub token for enhanced metadata</li> </ul>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>pip install repoindex\n</code></pre> <p>Verify installation:</p> <pre><code>repoindex --version\nrepoindex --help\n</code></pre>"},{"location":"getting-started/#quick-setup","title":"Quick Setup","text":""},{"location":"getting-started/#1-initialize-configuration","title":"1. Initialize Configuration","text":"<pre><code># Create default configuration\nrepoindex config init\n\n# Verify configuration\nrepoindex config show\n</code></pre> <p>Configuration is stored at <code>~/.repoindex/config.yaml</code>.</p>"},{"location":"getting-started/#2-refresh-database","title":"2. Refresh Database","text":"<pre><code># Populate the database with your repositories\nrepoindex refresh\n</code></pre>"},{"location":"getting-started/#3-set-up-github-token-optional","title":"3. Set Up GitHub Token (Optional)","text":"<p>For GitHub-specific metadata (stars, topics, etc.):</p> <pre><code>export GITHUB_TOKEN=\"ghp_your_token_here\"\n</code></pre> <p>Or add to config:</p> <pre><code>github:\n  token: ghp_your_token_here\n</code></pre> <p>Then refresh with GitHub metadata:</p> <pre><code>repoindex refresh --github\n</code></pre>"},{"location":"getting-started/#your-first-commands","title":"Your First Commands","text":""},{"location":"getting-started/#check-status","title":"Check Status","text":"<pre><code># Dashboard overview\nrepoindex status\n</code></pre>"},{"location":"getting-started/#query-repositories","title":"Query Repositories","text":"<pre><code># Find repos with uncommitted changes (pretty table by default)\nrepoindex query --dirty\n\n# Find Python repos\nrepoindex query --language python\n\n# Find repos by tag\nrepoindex query --tag \"work/*\"\n\n# JSONL output for piping\nrepoindex query --json --dirty | jq '.name'\n</code></pre>"},{"location":"getting-started/#view-events","title":"View Events","text":"<p>See what's happening across your collection:</p> <pre><code># Events in the last 7 days (pretty table by default)\nrepoindex events --since 7d\n\n# Only git tags (releases)\nrepoindex events --type git_tag --since 30d\n\n# Summary statistics\nrepoindex events --stats\n</code></pre>"},{"location":"getting-started/#organize-with-tags","title":"Organize with Tags","text":"<pre><code># Add tags\nrepoindex tag add myproject work/active\nrepoindex tag add myproject topic:ml\n\n# List repos by tag\nrepoindex tag list -t \"work/*\"\n\n# Show tag hierarchy\nrepoindex tag tree\n</code></pre>"},{"location":"getting-started/#interactive-shell","title":"Interactive Shell","text":"<pre><code>repoindex shell\n\n# Navigate like a filesystem\n&gt; cd /by-tag/work/active\n&gt; ls\n&gt; events --since 1d\n&gt; exit\n</code></pre>"},{"location":"getting-started/#common-workflows","title":"Common Workflows","text":""},{"location":"getting-started/#morning-check","title":"Morning Check","text":"<pre><code># What happened overnight?\nrepoindex events --since 12h\n\n# Repos with uncommitted work\nrepoindex query --dirty\n\n# Dashboard overview\nrepoindex status\n</code></pre>"},{"location":"getting-started/#release-tracking","title":"Release Tracking","text":"<pre><code># Recent releases across all repos\nrepoindex events --type git_tag --since 30d\n</code></pre>"},{"location":"getting-started/#output-formats","title":"Output Formats","text":"<p>Commands output pretty tables by default for human readability:</p> <pre><code># Pretty tables (default)\nrepoindex query --language python\nrepoindex events --since 7d\n\n# JSONL for piping/scripting\nrepoindex query --json --language python | jq '.name'\nrepoindex events --json --since 7d | jq '.type' | sort | uniq -c\n\n# Brief output (just repo names)\nrepoindex query --brief --dirty\n</code></pre>"},{"location":"getting-started/#configuration-file","title":"Configuration File","text":"<p>Configuration lives at <code>~/.repoindex/config.yaml</code>:</p> <pre><code>repository_directories:\n  - ~/projects\n  - ~/work/**\n\ngithub:\n  token: ghp_...\n\nrepository_tags:\n  /path/to/repo:\n    - topic:ml\n    - work/active\n</code></pre>"},{"location":"getting-started/#environment-variables","title":"Environment Variables","text":"Variable Description <code>REPOINDEX_CONFIG</code> Path to config file <code>GITHUB_TOKEN</code> GitHub API token <code>REPOINDEX_GITHUB_TOKEN</code> GitHub API token (alternative) <code>REPOINDEX_LOG_LEVEL</code> Logging level (DEBUG, INFO, WARNING)"},{"location":"getting-started/#claude-code-integration","title":"Claude Code Integration","text":"<p>Install the repoindex skill for Claude Code:</p> <pre><code># Install globally (all projects)\nrepoindex claude install --global\n</code></pre> <p>Then use <code>/repoindex</code> in Claude Code conversations for collection awareness.</p>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Usage Guide - Full command reference</li> <li>Events - Event system documentation</li> <li>Query Language - Query syntax</li> <li>Shell &amp; VFS - Interactive shell</li> </ul>"},{"location":"getting-started/#getting-help","title":"Getting Help","text":"<ul> <li>Command Help: <code>repoindex &lt;command&gt; --help</code></li> <li>GitHub Issues: Report bugs</li> </ul>"},{"location":"getting-started/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/#no-repositories-found","title":"No repositories found","text":"<ul> <li>Check <code>repository_directories</code> in config with <code>repoindex config show</code></li> <li>Verify directories contain <code>.git</code> folders</li> <li>Run <code>repoindex refresh --full</code> to rebuild database</li> </ul>"},{"location":"getting-started/#github-api-rate-limit","title":"GitHub API rate limit","text":"<ul> <li>Add a GitHub token (increases limits from 60 to 5000/hour)</li> <li>Skip GitHub metadata: <code>repoindex refresh</code> (local only by default)</li> </ul>"},{"location":"getting-started/#permission-errors","title":"Permission errors","text":"<ul> <li>Check file permissions in repository directories</li> <li>Ensure git credentials are configured</li> </ul>"},{"location":"query-cookbook/","title":"repoindex Query Cookbook","text":"<p>This cookbook shows common search and analysis patterns using <code>repoindex</code> with <code>jq</code>.</p>"},{"location":"query-cookbook/#basic-searches","title":"Basic Searches","text":""},{"location":"query-cookbook/#find-repositories-by-language","title":"Find repositories by language","text":"<pre><code>repoindex query --json | jq 'select(.language == \"Python\")'\nrepoindex query --json | jq 'select(.language | test(\"Java\"; \"i\"))'  # Case-insensitive\n</code></pre>"},{"location":"query-cookbook/#find-popular-repositories","title":"Find popular repositories","text":"<pre><code>repoindex query --json | jq 'select(.github_stars &gt; 10)'\nrepoindex query --json | jq 'select(.github_stars != null and .github_stars &gt; 5)'\n</code></pre>"},{"location":"query-cookbook/#find-repositories-with-issues","title":"Find repositories with issues","text":"<pre><code>repoindex status | jq 'select(.status | contains(\"modified\") or contains(\"untracked\"))'\n</code></pre>"},{"location":"query-cookbook/#complex-queries","title":"Complex Queries","text":""},{"location":"query-cookbook/#multi-criteria-search","title":"Multi-criteria search","text":"<pre><code># Python repos with PyPI packages\nrepoindex query --json | jq 'select(\n  .language == \"Python\" and\n  .pypi_published == true and\n  .github_stars &gt; 0\n)'\n</code></pre>"},{"location":"query-cookbook/#repository-health-assessment","title":"Repository health assessment","text":"<pre><code>repoindex query --json | jq '{\n  name: .name,\n  health_score: (\n    ((.github_stars != null) | if . then 2 else 0 end) +\n    ((.license != null and .license != \"\") | if . then 1 else 0 end) +\n    ((.pypi_published == true) | if . then 2 else 0 end) +\n    ((.has_readme == true) | if . then 1 else 0 end) +\n    ((.github_stars &gt; 0) | if . then 1 else 0 end)\n  )\n} | select(.health_score &gt;= 4)'\n</code></pre>"},{"location":"query-cookbook/#aggregations","title":"Aggregations","text":""},{"location":"query-cookbook/#language-distribution","title":"Language distribution","text":"<pre><code>repoindex query --json | jq -s 'group_by(.language) |\n  map({language: .[0].language, count: length}) |\n  sort_by(.count) | reverse'\n</code></pre>"},{"location":"query-cookbook/#deployment-statistics","title":"Deployment statistics","text":"<pre><code>repoindex query --json | jq -s '{\n  total: length,\n  with_github: map(select(.github_stars != null)) | length,\n  with_pypi: map(select(.pypi_published == true)) | length,\n  with_license: map(select(.license != null and .license != \"\")) | length,\n  with_readme: map(select(.has_readme == true)) | length\n}'\n</code></pre>"},{"location":"query-cookbook/#output-formatting","title":"Output Formatting","text":""},{"location":"query-cookbook/#csv-export","title":"CSV export","text":"<pre><code>echo \"name,stars,language,has_pypi\" &gt; repos.csv\nrepoindex query --json | jq -r '[.name, .github_stars, .language, .pypi_published] | @csv' &gt;&gt; repos.csv\n</code></pre>"},{"location":"query-cookbook/#markdown-report","title":"Markdown report","text":"<pre><code>repoindex query --json | jq -r '\"## \" + .name + \" (\" + (.language // \"Unknown\") + \")\\n\" +\n  \"Stars: \" + ((.github_stars // 0) | tostring) + \"\\n\" +\n  (.description // \"No description\") + \"\\n\"'\n</code></pre>"},{"location":"query-cookbook/#html-table","title":"HTML table","text":"<pre><code>echo \"&lt;table&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Stars&lt;/th&gt;&lt;th&gt;Language&lt;/th&gt;&lt;/tr&gt;\"\nrepoindex query --json | jq -r '\"&lt;tr&gt;&lt;td&gt;\" + .name + \"&lt;/td&gt;&lt;td&gt;\" + ((.github_stars // 0) | tostring) + \"&lt;/td&gt;&lt;td&gt;\" + (.language // \"\") + \"&lt;/td&gt;&lt;/tr&gt;\"'\necho \"&lt;/table&gt;\"\n</code></pre>"},{"location":"query-cookbook/#performance-tips","title":"Performance Tips","text":""},{"location":"query-cookbook/#streaming-for-large-datasets","title":"Streaming for large datasets","text":"<pre><code># Process results as they come in (don't wait for all repos)\nrepoindex query --json | jq 'select(.github_stars &gt; 100)' | head -10\n</code></pre>"},{"location":"query-cookbook/#combine-commands-efficiently","title":"Combine commands efficiently","text":"<pre><code># Use process substitution for complex joins\njoin -t$'\\t' \\\n  &lt;(repoindex query --json | jq -r '[.name, .github_stars] | @tsv' | sort) \\\n  &lt;(repoindex query --json | jq -r '[.name, .pypi_published] | @tsv' | sort)\n</code></pre>"},{"location":"query-cookbook/#common-patterns","title":"Common Patterns","text":""},{"location":"query-cookbook/#find-todo-repositories","title":"Find \"todo\" repositories","text":"<pre><code># Repos that need attention\nrepoindex query --json | jq 'select(\n  (.clean == false) or\n  (.license == null or .license == \"\") or\n  (.github_stars == null) or\n  (.description == null or .description == \"\")\n)' | jq '{name: .name, issues: [\n  (if .clean == false then \"uncommitted changes\" else empty end),\n  (if .license == null or .license == \"\" then \"no license\" else empty end),\n  (if .github_stars == null then \"not on github\" else empty end),\n  (if .description == null or .description == \"\" then \"no description\" else empty end)\n]}'\n</code></pre>"},{"location":"query-cookbook/#portfolio-analysis","title":"Portfolio analysis","text":"<pre><code># Your coding portfolio stats\nrepoindex query --json | jq -s '{\n  total_repos: length,\n  languages: [group_by(.language) | .[] | {lang: .[0].language, count: length}],\n  total_stars: map(.github_stars // 0) | add,\n  original_projects: map(select(.github_is_fork != true)) | length\n}'\n</code></pre>"},{"location":"query-cookbook/#maintenance-dashboard","title":"Maintenance dashboard","text":"<pre><code># Repos with uncommitted changes\nrepoindex query --json | jq 'select(.clean == false)' | jq '{\n  name: .name,\n  branch: .branch,\n  action: \"git commit needed\"\n}'\n</code></pre>"},{"location":"query-cookbook/#advanced-techniques","title":"Advanced Techniques","text":""},{"location":"query-cookbook/#custom-scoring-function","title":"Custom scoring function","text":"<pre><code>repoindex_score() {\n  repoindex query --json | jq --arg weight_stars \"$1\" --arg weight_pypi \"$2\" '{\n    name: .name,\n    score: (\n      ((.github_stars // 0) * ($weight_stars | tonumber)) +\n      ((.pypi_published == true) | if . then ($weight_pypi | tonumber) else 0 end) +\n      ((.license != null and .license != \"\") | if . then 5 else 0 end)\n    )\n  } | select(.score &gt; 10)'\n}\n\n# Usage: repoindex_score 2 10  (2 points per star, 10 for PyPI)\n</code></pre>"},{"location":"query-cookbook/#real-time-monitoring","title":"Real-time monitoring","text":"<pre><code># Watch for dirty repos (requires `watch` command)\nwatch -n 30 'repoindex query --json | jq \"select(.clean == false)\" | jq -r \".name + \\\": uncommitted changes\\\"\"'\n</code></pre>"},{"location":"shell-vfs/","title":"Shell Virtual Filesystem","text":"<p>The repoindex interactive shell provides a powerful virtual filesystem (VFS) for navigating and managing repositories using hierarchical tags.</p>"},{"location":"shell-vfs/#overview","title":"Overview","text":"<p>The shell VFS maps your repositories and their tags to a familiar filesystem structure, allowing you to use standard Unix commands (<code>cd</code>, <code>ls</code>, <code>cp</code>, <code>mv</code>, <code>rm</code>) to organize and navigate your projects.</p>"},{"location":"shell-vfs/#filesystem-structure","title":"Filesystem Structure","text":"<pre><code>/\n\u251c\u2500\u2500 repos/              # All repositories\n\u2502   \u251c\u2500\u2500 project-a/\n\u2502   \u251c\u2500\u2500 project-b/\n\u2502   \u2514\u2500\u2500 project-c/\n\u251c\u2500\u2500 by-tag/             # Hierarchical tag organization\n\u2502   \u251c\u2500\u2500 alex/\n\u2502   \u2502   \u251c\u2500\u2500 beta/       # repos tagged with \"alex/beta\"\n\u2502   \u2502   \u2514\u2500\u2500 production/ # repos tagged with \"alex/production\"\n\u2502   \u251c\u2500\u2500 topic/\n\u2502   \u2502   \u251c\u2500\u2500 ml/         # \"topic:ml\"\n\u2502   \u2502   \u2514\u2500\u2500 scientific/\n\u2502   \u2502       \u2514\u2500\u2500 engineering/\n\u2502   \u2502           \u2514\u2500\u2500 ai/  # \"topic:scientific/engineering/ai\"\n\u2502   \u2514\u2500\u2500 work/\n\u2502       \u2514\u2500\u2500 client/\n\u2502           \u2514\u2500\u2500 acme/    # \"work/client/acme\"\n\u251c\u2500\u2500 by-language/        # Grouped by programming language\n\u2502   \u251c\u2500\u2500 Python/\n\u2502   \u251c\u2500\u2500 JavaScript/\n\u2502   \u2514\u2500\u2500 Rust/\n\u2514\u2500\u2500 by-status/          # Grouped by git status\n    \u251c\u2500\u2500 clean/\n    \u2514\u2500\u2500 dirty/\n</code></pre>"},{"location":"shell-vfs/#launching-the-shell","title":"Launching the Shell","text":"<pre><code>repoindex shell\n</code></pre> <p>You'll see:</p> <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551                    repoindex Interactive Shell                     \u2551\n\u2551                                                                \u2551\n\u2551  Navigate repositories with hierarchical tag filesystem       \u2551\n\u2551  - /repos/           All repositories                         \u2551\n\u2551  - /by-tag/          Hierarchical tag navigation              \u2551\n\u2551  - /by-language/     Grouped by programming language          \u2551\n\u2551  - /by-status/       Grouped by git status                    \u2551\n\u2551                                                                \u2551\n\u2551  Tag operations: cp (add tag), mv (retag), rm (remove tag)    \u2551\n\u2551  Type 'help' for available commands, 'exit' or Ctrl+D to quit \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\nrepoindex:/&gt;\n</code></pre>"},{"location":"shell-vfs/#navigation-commands","title":"Navigation Commands","text":""},{"location":"shell-vfs/#pwd-print-working-directory","title":"<code>pwd</code> - Print Working Directory","text":"<pre><code>repoindex:/&gt; pwd\n/\n</code></pre>"},{"location":"shell-vfs/#ls-list-directory-contents","title":"<code>ls</code> - List Directory Contents","text":"<pre><code># List with nice formatted table (default)\nrepoindex:/&gt; ls\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Name          \u2503 Type      \u2503 Target \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 \ud83d\udcc2 by-language\u2502 directory \u2502        \u2502\n\u2502 \ud83d\udcc2 by-status  \u2502 directory \u2502        \u2502\n\u2502 \ud83d\udcc2 by-tag     \u2502 directory \u2502        \u2502\n\u2502 \ud83d\udcc2 repos      \u2502 directory \u2502        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n# List with JSONL output (opt-in)\nrepoindex:/&gt; ls --json\n{\"name\": \"repos\", \"type\": \"directory\", \"icon\": \"\ud83d\udcc2\"}\n{\"name\": \"by-tag\", \"type\": \"directory\", \"icon\": \"\ud83d\udcc2\"}\n{\"name\": \"by-language\", \"type\": \"directory\", \"icon\": \"\ud83d\udcc2\"}\n{\"name\": \"by-status\", \"type\": \"directory\", \"icon\": \"\ud83d\udcc2\"}\n</code></pre>"},{"location":"shell-vfs/#cd-change-directory","title":"<code>cd</code> - Change Directory","text":"<pre><code>repoindex:/&gt; cd by-tag\nrepoindex:/by-tag&gt; cd alex\nrepoindex:/by-tag/alex&gt; cd beta\nrepoindex:/by-tag/alex/beta&gt; ls\n{\"name\": \"myproject\", \"type\": \"symlink\", \"icon\": \"\ud83d\udd17\", \"target\": \"/repos/myproject\"}\n</code></pre>"},{"location":"shell-vfs/#tag-management-commands","title":"Tag Management Commands","text":""},{"location":"shell-vfs/#cp-add-tags","title":"<code>cp</code> - Add Tags","text":"<p>Copy a repository to a tag location to add that tag:</p> <pre><code># Add simple hierarchical tag\nrepoindex:/&gt; cp /repos/myproject /by-tag/alex/beta\nAdded tag 'alex/beta' to myproject\n\n# Add key:value hierarchical tag\nrepoindex:/&gt; cp /repos/myproject /by-tag/topic/ml/research\nAdded tag 'topic:ml/research' to myproject\n\n# Multiple tags can coexist\nrepoindex:/by-tag/alex/beta&gt; ls\n{\"name\": \"myproject\", \"type\": \"symlink\", ...}\nrepoindex:/by-tag/topic/ml/research&gt; ls\n{\"name\": \"myproject\", \"type\": \"symlink\", ...}\n</code></pre>"},{"location":"shell-vfs/#mv-move-between-tags","title":"<code>mv</code> - Move Between Tags","text":"<p>Move a repository from one tag to another (removes old tag, adds new tag):</p> <pre><code>repoindex:/&gt; mv /by-tag/alex/beta/myproject /by-tag/alex/production\nMoved myproject from 'alex/beta' to 'alex/production'\n</code></pre>"},{"location":"shell-vfs/#rm-remove-tags","title":"<code>rm</code> - Remove Tags","text":"<p>Remove a tag from a repository:</p> <pre><code>repoindex:/&gt; rm /by-tag/work/active/myproject\nRemoved tag 'work/active' from myproject\n</code></pre>"},{"location":"shell-vfs/#mkdir-create-tag-namespace","title":"<code>mkdir</code> - Create Tag Namespace","text":"<p>Create a tag hierarchy (directory will be created when repos are tagged):</p> <pre><code>repoindex:/&gt; mkdir -p /by-tag/client/acme/backend\nTag namespace '/by-tag/client/acme/backend' ready for use\n</code></pre>"},{"location":"shell-vfs/#hierarchical-tag-formats","title":"Hierarchical Tag Formats","text":""},{"location":"shell-vfs/#simple-hierarchical-tags","title":"Simple Hierarchical Tags","text":"<p>Tags without a key prefix:</p> <ul> <li><code>alex/beta</code> \u2192 <code>/by-tag/alex/beta/</code></li> <li><code>work/active</code> \u2192 <code>/by-tag/work/active/</code></li> <li><code>client/acme/backend</code> \u2192 <code>/by-tag/client/acme/backend/</code></li> </ul>"},{"location":"shell-vfs/#keyvalue-hierarchical-tags","title":"Key:Value Hierarchical Tags","text":"<p>Tags with a key prefix (automatically detected for known keys like <code>lang</code>, <code>topic</code>, <code>status</code>, etc.):</p> <ul> <li><code>lang:python</code> \u2192 <code>/by-tag/lang/python/</code></li> <li><code>topic:ml</code> \u2192 <code>/by-tag/topic/ml/</code></li> <li><code>topic:scientific/engineering/ai</code> \u2192 <code>/by-tag/topic/scientific/engineering/ai/</code></li> <li><code>status:active</code> \u2192 <code>/by-tag/status/active/</code></li> </ul>"},{"location":"shell-vfs/#advanced-usage","title":"Advanced Usage","text":""},{"location":"shell-vfs/#refresh-vfs","title":"Refresh VFS","text":"<p>After making changes outside the shell (e.g., using <code>repoindex tag add</code>), refresh the VFS:</p> <pre><code>repoindex:/&gt; refresh\nRefreshing VFS...\nVFS refreshed\n</code></pre>"},{"location":"shell-vfs/#query-repositories","title":"Query Repositories","text":"<p>Execute queries from within the shell:</p> <pre><code>repoindex:/&gt; query \"stars &gt; 10 and language == 'Python'\"\n{\"name\": \"myproject\", \"path\": \"/home/user/repos/myproject\"}\n{\"name\": \"another-project\", \"path\": \"/home/user/repos/another-project\"}\n</code></pre>"},{"location":"shell-vfs/#find-repositories","title":"Find Repositories","text":"<p>Find repositories by criteria:</p> <pre><code>repoindex:/&gt; find --language Python --dirty\nfind with filters: {'language': 'Python', 'dirty': True}\n</code></pre>"},{"location":"shell-vfs/#tips-and-tricks","title":"Tips and Tricks","text":""},{"location":"shell-vfs/#1-use-relative-paths","title":"1. Use Relative Paths","text":"<pre><code>repoindex:/repos&gt; cd ../by-tag/alex/beta\nrepoindex:/by-tag/alex/beta&gt;\n</code></pre>"},{"location":"shell-vfs/#2-tab-completion","title":"2. Tab Completion","text":"<p>The shell supports tab completion for paths and commands (if your terminal supports it).</p>"},{"location":"shell-vfs/#3-combine-with-cli-commands","title":"3. Combine with CLI Commands","text":"<p>You can use the shell for navigation and the CLI for operations:</p> <pre><code># In shell: navigate to tag\nrepoindex:/&gt; cd /by-tag/lang/python\nrepoindex:/by-tag/lang/python&gt;\n\n# Outside shell: use CLI\n$ repoindex status -t \"lang:python\" --pretty\n</code></pre>"},{"location":"shell-vfs/#4-multi-tag-organization","title":"4. Multi-Tag Organization","text":"<p>Repos can have multiple tags and appear in multiple locations:</p> <pre><code># Same repo appears in multiple tag hierarchies\nrepoindex:/by-tag/alex/beta&gt; ls\n{\"name\": \"myproject\", ...}\n\nrepoindex:/by-tag/topic/ml&gt; ls\n{\"name\": \"myproject\", ...}\n\nrepoindex:/by-language/Python&gt; ls\n{\"name\": \"myproject\", ...}\n</code></pre>"},{"location":"shell-vfs/#5-use-with-pipes","title":"5. Use with Pipes","text":"<p>Combine shell commands with external tools:</p> <pre><code>repoindex:/&gt; ls /repos | jq -r '.name'\nmyproject\nanother-project\n</code></pre>"},{"location":"shell-vfs/#comparison-with-cli","title":"Comparison with CLI","text":"<p>The CLI now has full parity with the shell's tag operations:</p> Operation Shell VFS CLI Add tag <code>cp /repos/myproject /by-tag/alex/beta</code> <code>repoindex tag add myproject alex/beta</code> Remove tag <code>rm /by-tag/alex/beta/myproject</code> <code>repoindex tag remove myproject alex/beta</code> Move between tags <code>mv /by-tag/alex/beta/myproject /by-tag/alex/production</code> <code>repoindex tag move myproject alex/beta alex/production</code> List tags <code>ls /by-tag</code> <code>repoindex tag list</code> List tagged repos <code>ls /by-tag/alex/beta</code> <code>repoindex tag list -t \"alex/beta\"</code> Show hierarchy <code>cd /by-tag/alex &amp;&amp; ls</code> <code>repoindex tag tree -t alex</code> Show repo tags N/A (use <code>query</code>) <code>repoindex tag list -r myproject</code>"},{"location":"shell-vfs/#implementation-details","title":"Implementation Details","text":""},{"location":"shell-vfs/#tag-to-path-conversion","title":"Tag to Path Conversion","text":"<p>The shell converts tags to paths using these rules:</p> <ol> <li>Known key prefixes (lang, topic, status, etc.) \u2192 key:value format</li> <li><code>/by-tag/lang/python</code> \u2192 <code>lang:python</code></li> <li> <p><code>/by-tag/topic/ml</code> \u2192 <code>topic:ml</code></p> </li> <li> <p>Multi-level with known key \u2192 key:hierarchical/value</p> </li> <li> <p><code>/by-tag/topic/scientific/engineering/ai</code> \u2192 <code>topic:scientific/engineering/ai</code></p> </li> <li> <p>Unknown prefixes \u2192 hierarchical tag</p> </li> <li><code>/by-tag/alex/beta</code> \u2192 <code>alex/beta</code></li> <li><code>/by-tag/work/client/acme</code> \u2192 <code>work/client/acme</code></li> </ol>"},{"location":"shell-vfs/#vfs-rebuild","title":"VFS Rebuild","text":"<p>The VFS is rebuilt after tag operations (<code>cp</code>, <code>mv</code>, <code>rm</code>) to reflect changes. This ensures the filesystem view is always consistent with the underlying tag configuration.</p>"},{"location":"shell-vfs/#configuration-storage","title":"Configuration Storage","text":"<p>Tags are stored in <code>~/.repoindex/config.json</code> under <code>repository_tags</code>:</p> <pre><code>{\n  \"repository_tags\": {\n    \"/home/user/repos/myproject\": [\n      \"alex/beta\",\n      \"topic:ml/research\",\n      \"work/active\"\n    ]\n  }\n}\n</code></pre>"},{"location":"shell-vfs/#see-also","title":"See Also","text":"<ul> <li>Query Language</li> <li>Events Overview</li> <li>Usage Guide</li> </ul>"},{"location":"usage/","title":"Usage Guide","text":"<p>Complete reference for all repoindex commands and features.</p>"},{"location":"usage/#installation","title":"Installation","text":"<pre><code>pip install repoindex\n</code></pre> <p>Verify installation:</p> <pre><code>repoindex --version\nrepoindex --help\n</code></pre>"},{"location":"usage/#core-commands","title":"Core Commands","text":""},{"location":"usage/#dashboard-status","title":"Dashboard Status","text":"<pre><code># Dashboard overview of your collection\nrepoindex status\n</code></pre>"},{"location":"usage/#query-repositories","title":"Query Repositories","text":"<pre><code># Query with convenience flags (pretty table by default)\nrepoindex query --dirty                    # Uncommitted changes\nrepoindex query --clean                    # Clean repos\nrepoindex query --language python          # Python repos\nrepoindex query --recent 7d                # Recent activity\nrepoindex query --tag \"work/*\"             # Filter by tag\n\n# GitHub flags (requires --github during refresh)\nrepoindex query --starred                  # Has GitHub stars\nrepoindex query --public                   # Public repos\nrepoindex query --private                  # Private repos\nrepoindex query --fork                     # Forked repos\nrepoindex query --no-fork                  # Non-forked repos\nrepoindex query --archived                 # Archived repos\n\n# Citation flags\nrepoindex query --has-citation             # Has citation files\nrepoindex query --has-doi                  # Has DOI in citation\n\n# Query DSL\nrepoindex query \"language == 'Python' and github_stars &gt; 10\"\n\n# Output options\nrepoindex query --json --language python   # JSONL output\nrepoindex query --brief --dirty            # Just repo names\n</code></pre>"},{"location":"usage/#events","title":"Events","text":"<p>Track what's happening across your repositories:</p> <pre><code># Events from database (pretty table by default)\nrepoindex events --since 7d\n\n# Events since specific time\nrepoindex events --since 24h\nrepoindex events --since 2024-01-15\n\n# Filter by event type\nrepoindex events --type git_tag --since 30d\nrepoindex events --type commit --since 7d\n\n# Filter by repository\nrepoindex events --repo myproject\n\n# Summary statistics\nrepoindex events --stats\n\n# JSONL output for piping\nrepoindex events --json --since 7d | jq '.type' | sort | uniq -c\n</code></pre> <p>See Events Overview for full documentation.</p>"},{"location":"usage/#tag-management","title":"Tag Management","text":"<p>Organize repositories with hierarchical tags:</p> <pre><code># Add tags\nrepoindex tag add myproject work/active\nrepoindex tag add myproject topic:ml/research\n\n# Remove tags\nrepoindex tag remove myproject work/active\n\n# Move between tags\nrepoindex tag move myproject work/active work/completed\n\n# List all tags\nrepoindex tag list\n\n# List repositories with specific tag\nrepoindex tag list -t \"work/*\"\n\n# Show tag hierarchy\nrepoindex tag tree\nrepoindex tag tree -t work  # Show subtree\n</code></pre>"},{"location":"usage/#interactive-shell","title":"Interactive Shell","text":"<pre><code># Launch interactive shell with VFS\nrepoindex shell\n\n# Navigate like a filesystem\n&gt; cd /by-tag/work/active\n&gt; ls\n&gt; events --since 1d\n&gt; exit\n</code></pre> <p>See Shell &amp; VFS for details.</p>"},{"location":"usage/#database-management","title":"Database Management","text":""},{"location":"usage/#refresh","title":"Refresh","text":"<pre><code># Smart refresh (changed repos only)\nrepoindex refresh\n\n# Force full refresh\nrepoindex refresh --full\n\n# Include external metadata\nrepoindex refresh --github         # GitHub metadata\nrepoindex refresh --pypi           # PyPI package status\nrepoindex refresh --cran           # CRAN package status\nrepoindex refresh --external       # All external sources\n\n# Refresh specific directory\nrepoindex refresh -d ~/projects\n\n# Events scan range\nrepoindex refresh --since 30d\n\n# Preview mode\nrepoindex refresh --dry-run\n</code></pre>"},{"location":"usage/#sql-access","title":"SQL Access","text":"<pre><code># Direct SQL queries\nrepoindex sql \"SELECT name, language, github_stars FROM repos ORDER BY github_stars DESC LIMIT 10\"\n\n# Database info\nrepoindex sql --info\nrepoindex sql --schema\nrepoindex sql --stats        # Row counts per table\nrepoindex sql --path         # Database file path\n\n# Interactive SQL shell\nrepoindex sql -i\n\n# Output formats\nrepoindex sql \"SELECT * FROM repos\" --format json\nrepoindex sql \"SELECT * FROM repos\" --format csv\nrepoindex sql \"SELECT * FROM repos\" --format table\n\n# Query from file\nrepoindex sql -f query.sql\n\n# Database maintenance\nrepoindex sql --integrity    # Check database integrity\nrepoindex sql --vacuum       # Compact and optimize\nrepoindex sql --reset        # Delete and recreate database\n</code></pre>"},{"location":"usage/#additional-commands","title":"Additional Commands","text":""},{"location":"usage/#export-echo-format","title":"Export (ECHO format)","text":"<p>Export repository index in durable, self-describing format:</p> <pre><code># Basic export\nrepoindex export ~/backup\n\n# Include README snapshots\nrepoindex export ~/backup --include-readmes\n\n# Include event history\nrepoindex export ~/backup --include-events\n\n# Include git summaries\nrepoindex export ~/backup --include-git-summary 10\n\n# Full export with archives\nrepoindex export ~/backup --include-readmes --include-events --archive-repos\n\n# Preview\nrepoindex export ~/backup --dry-run --pretty\n</code></pre>"},{"location":"usage/#copy-backupredundancy","title":"Copy (backup/redundancy)","text":"<p>Copy repositories with filtering:</p> <pre><code># Copy all repos\nrepoindex copy ~/backup\n\n# Copy with filters\nrepoindex copy ~/backup --language python\nrepoindex copy ~/backup --dirty\nrepoindex copy ~/backup --tag \"work/*\"\n\n# Options\nrepoindex copy ~/backup --exclude-git          # Skip .git\nrepoindex copy ~/backup --preserve-structure   # Keep dir hierarchy\nrepoindex copy ~/backup --collision rename     # Handle conflicts\nrepoindex copy ~/backup --dry-run --pretty     # Preview\n</code></pre>"},{"location":"usage/#link-trees","title":"Link Trees","text":"<p>Create symlink trees organized by metadata:</p> <pre><code># Create by tag\nrepoindex link tree ~/links/by-tag --by tag\n\n# Create by language\nrepoindex link tree ~/links/by-lang --by language\n\n# Other organization options\nrepoindex link tree ~/links/by-year --by modified-year\nrepoindex link tree ~/links/by-owner --by owner\n\n# With query filters\nrepoindex link tree ~/links/python --by tag --language python\n\n# Preview\nrepoindex link tree ~/links/test --by tag --dry-run --pretty\n\n# Check status\nrepoindex link status ~/links/by-tag\n\n# Refresh (remove broken links)\nrepoindex link refresh ~/links/by-tag --prune\n</code></pre>"},{"location":"usage/#views-curated-collections","title":"Views (Curated Collections)","text":"<p>Views are ordered repository collections with optional metadata overlays:</p> <pre><code># List all views\nrepoindex view list\nrepoindex view list --templates\n\n# Show view definition\nrepoindex view show portfolio\n\n# Evaluate view (resolve to repositories)\nrepoindex view eval portfolio\nrepoindex view eval portfolio --full    # Include overlay details\n\n# Create views\nrepoindex view create portfolio --repos repoindex ctk btk\nrepoindex view create python-libs --query \"language == 'Python'\"\nrepoindex view create ml-research --tags \"research/ml\" \"research/nlp\"\nrepoindex view create active --extends portfolio\n\n# Add overlays/annotations\nrepoindex view overlay portfolio repoindex -d \"Repository management toolkit\"\nrepoindex view overlay teaching project --highlight -n \"Start here\"\n\n# Delete view\nrepoindex view delete old-portfolio --force\n\n# Find views containing a repo\nrepoindex view repos myproject\n</code></pre> <p>Views support composition (union, intersect, subtract) for building complex collections.</p>"},{"location":"usage/#configuration","title":"Configuration","text":""},{"location":"usage/#configuration-file","title":"Configuration File","text":"<p>Configuration lives at <code>~/.repoindex/config.yaml</code>:</p> <pre><code>repository_directories:\n  - ~/projects\n  - ~/work/**\n\ngithub:\n  token: ghp_...\n\nrepository_tags:\n  /path/to/repo:\n    - topic:ml\n    - work/active\n</code></pre>"},{"location":"usage/#configuration-commands","title":"Configuration Commands","text":"<pre><code># Initialize configuration\nrepoindex config init\n\n# Show current configuration\nrepoindex config show\n\n# List repository directories\nrepoindex config repos\n</code></pre>"},{"location":"usage/#environment-variables","title":"Environment Variables","text":"Variable Description <code>REPOINDEX_CONFIG</code> Path to config file <code>GITHUB_TOKEN</code> GitHub API token <code>REPOINDEX_GITHUB_TOKEN</code> GitHub API token (alternative) <code>REPOINDEX_LOG_LEVEL</code> Logging level (DEBUG, INFO, WARNING)"},{"location":"usage/#output-formats","title":"Output Formats","text":"<p>Commands output pretty tables by default:</p> <pre><code># Pretty tables (default)\nrepoindex query --language python\nrepoindex events --since 7d\n\n# JSONL for piping/scripting\nrepoindex query --json --language python | jq '.name'\nrepoindex events --json --since 7d | jq '.type' | sort | uniq -c\n\n# Brief output (just repo names)\nrepoindex query --brief --dirty\n</code></pre>"},{"location":"usage/#pipeline-examples","title":"Pipeline Examples","text":"<pre><code># Get Python repos with uncommitted changes\nrepoindex query --json --language python --dirty | jq '.name'\n\n# Count events by type\nrepoindex events --json --since 30d | jq '.type' | sort | uniq -c\n\n# Get repo names needing attention\nrepoindex query --brief --dirty\n</code></pre>"},{"location":"usage/#common-workflows","title":"Common Workflows","text":""},{"location":"usage/#morning-check","title":"Morning Check","text":"<pre><code># What happened overnight?\nrepoindex events --since 12h\n\n# Repos with uncommitted work\nrepoindex query --dirty\n\n# Dashboard overview\nrepoindex status\n</code></pre>"},{"location":"usage/#release-tracking","title":"Release Tracking","text":"<pre><code># Recent releases across all repos\nrepoindex events --type git_tag --since 30d\n\n# Repos with recent tags\nrepoindex query --recent 7d\n</code></pre>"},{"location":"usage/#claude-code-integration","title":"Claude Code Integration","text":"<p>Install the skill for Claude Code:</p> <pre><code># Install globally (all projects)\nrepoindex claude install --global\n\n# Install locally (current project)\nrepoindex claude install\n\n# Show installation status\nrepoindex claude show\n\n# Uninstall\nrepoindex claude uninstall --global\n</code></pre>"},{"location":"usage/#performance-tips","title":"Performance Tips","text":""},{"location":"usage/#fast-queries","title":"Fast Queries","text":"<pre><code># Local-only queries (no external API)\nrepoindex query --dirty\nrepoindex query --language python\n\n# Use brief mode for scripts\nrepoindex query --brief --dirty\n</code></pre>"},{"location":"usage/#refresh-optimization","title":"Refresh Optimization","text":"<pre><code># Smart refresh only updates changed repos\nrepoindex refresh\n\n# Full refresh when needed\nrepoindex refresh --full\n\n# Limit event scan range\nrepoindex refresh --since 7d\n</code></pre>"},{"location":"usage/#troubleshooting","title":"Troubleshooting","text":""},{"location":"usage/#no-repositories-found","title":"No Repositories Found","text":"<ul> <li>Run <code>repoindex config show</code> to check settings</li> <li>Verify directories contain <code>.git</code> folders</li> <li>Run <code>repoindex refresh --full</code> to rebuild database</li> </ul>"},{"location":"usage/#github-api-rate-limit","title":"GitHub API Rate Limit","text":"<ul> <li>Add a GitHub token (increases limits from 60 to 5000/hour)</li> <li>Skip GitHub metadata: <code>repoindex refresh</code> (local only by default)</li> </ul>"},{"location":"usage/#permission-errors","title":"Permission Errors","text":"<ul> <li>Check file permissions in repository directories</li> <li>Ensure git credentials are configured</li> </ul>"},{"location":"usage/#testing-for-contributors","title":"Testing (for Contributors)","text":"<pre><code># Install development dependencies\npip install -e \".[test]\"\n\n# Run all tests (810+ tests)\npytest\n\n# Run with coverage report\npytest --cov=repoindex --cov-report=html\n\n# Run specific test modules\npytest tests/test_events.py -v\n</code></pre>"},{"location":"usage/#next-steps","title":"Next Steps","text":"<ul> <li>Events Overview - Event system details</li> <li>Query Language - Query syntax</li> <li>Shell &amp; VFS - Interactive shell</li> <li>Event Types Reference - All event types</li> </ul>"},{"location":"design/CLI_DESIGN_DECISIONS/","title":"CLI Design Decisions","text":"<p>Note (v0.10.0): This document describes early design decisions. Some commands have since been consolidated: - <code>list</code> command was merged into <code>query</code> (use <code>repoindex query</code> or <code>repoindex query --json</code>) - <code>top</code> command was replaced by <code>events</code> - Several commands (<code>docs</code>, <code>audit</code>, <code>service</code>, <code>social</code>, <code>network</code>, <code>ai</code>) were removed to keep the tool focused</p>"},{"location":"design/CLI_DESIGN_DECISIONS/#question-5-which-commands-stay-top-level","title":"Question 5: Which Commands Stay Top-Level?","text":""},{"location":"design/CLI_DESIGN_DECISIONS/#analysis-of-command-usage-patterns","title":"Analysis of Command Usage Patterns","text":"<p>Let's examine each current top-level command and determine if it: 1. Can be replaced by <code>fs</code> operations (VFS-based) 2. Should stay top-level (frequently used, core operation) 3. Should be grouped (less common, related to other commands)</p>"},{"location":"design/CLI_DESIGN_DECISIONS/#current-commands-analysis","title":"Current Commands Analysis","text":"Command Frequency Can Use <code>fs</code>? Recommendation list Very High Partial (<code>fs ls /repos</code>) Top-level - too common to nest status Very High Partial (<code>fs info /repos/X</code>) Top-level - too common to nest get High No Top-level - core operation update High No Top-level - core operation query High Partial (<code>fs find</code>) Top-level - powerful core feature top Medium No Top-level - monitoring command catalog Low Yes (deprecated) Keep - backward compat, but deprecated metadata Low No Top-level - system management shell Medium No Top-level - mode switch audit Low No Group \u2192 <code>analysis audit</code> social-cmd Low No Group \u2192 <code>social post</code> service Low No Group \u2192 <code>service start/stop</code> config Low No Group \u2192 <code>config show/set</code> export Medium No Group or Top-level? docs Low No Group (already is) network-cmd Low No Group \u2192 <code>analysis network</code> ai-cmd Low No Group \u2192 <code>analysis ai</code>"},{"location":"design/CLI_DESIGN_DECISIONS/#can-fs-replace-these-operations","title":"Can <code>fs</code> Replace These Operations?","text":""},{"location":"design/CLI_DESIGN_DECISIONS/#operations-fs-can-replace","title":"Operations <code>fs</code> CAN replace:","text":"<pre><code># Instead of: repoindex list\nrepoindex fs ls /repos                    # List all repos\nrepoindex fs ls /by-language/Python       # List Python repos\nrepoindex fs ls /by-tag/alex/beta         # List tagged repos\n\n# Instead of: repoindex query \"language == 'Python'\"\nrepoindex fs find --language Python       # Find by language\nrepoindex fs find --tag alex/beta         # Find by tag\nrepoindex fs ls /by-language/Python       # Browse by language\n\n# Instead of: repoindex catalog show -t \"alex/beta\"\nrepoindex fs ls /by-tag/alex/beta         # List repos with tag\n</code></pre>"},{"location":"design/CLI_DESIGN_DECISIONS/#operations-fs-cannot-replace","title":"Operations <code>fs</code> CANNOT replace:","text":"<pre><code>repoindex get owner/repo                  # Clone operation\nrepoindex update                          # Git pull operation\nrepoindex status --dirty                  # Git status check\nrepoindex top --hours 24                  # Activity monitoring\nrepoindex export --format hugo            # Content generation\n</code></pre>"},{"location":"design/CLI_DESIGN_DECISIONS/#recommendation-hybrid-approach","title":"Recommendation: Hybrid Approach","text":"<p>Top-Level Commands (frequently used, can't be replaced by <code>fs</code>): <pre><code>repoindex\n\u251c\u2500\u2500 get          # Clone repos - unique operation\n\u251c\u2500\u2500 update       # Update repos - unique operation\n\u251c\u2500\u2500 status       # Git status - unique operation\n\u251c\u2500\u2500 query        # Powerful query - too important to nest\n\u251c\u2500\u2500 top          # Activity monitor - unique operation\n\u251c\u2500\u2500 shell        # Mode switch - special\n\u2514\u2500\u2500 metadata     # System management - special\n</code></pre></p> <p>Commands that COULD use <code>fs</code> but should stay top-level for convenience: <pre><code># Keep these as convenient shortcuts:\nrepoindex list              # Shortcut for: repoindex fs ls /repos\nrepoindex list --language Python  # Shortcut for: repoindex fs ls /by-language/Python\n</code></pre></p> <p>Commands to Group: <pre><code>repoindex\n\u251c\u2500\u2500 tag          # Already grouped - keep as-is\n\u251c\u2500\u2500 docs         # Already grouped - keep as-is\n\u251c\u2500\u2500 analysis     # New group\n\u2502   \u251c\u2500\u2500 audit\n\u2502   \u251c\u2500\u2500 network\n\u2502   \u2514\u2500\u2500 ai\n\u251c\u2500\u2500 social       # Convert from social-cmd\n\u251c\u2500\u2500 export       # Stay top-level OR group? (see Q6)\n\u251c\u2500\u2500 service      # Convert to group\n\u251c\u2500\u2500 config       # Convert to group\n\u2514\u2500\u2500 fs           # New group\n    \u251c\u2500\u2500 ls       # List VFS path\n    \u251c\u2500\u2500 tree     # Show tree\n    \u251c\u2500\u2500 find     # Find by criteria\n    \u2514\u2500\u2500 info     # Show detailed info\n</code></pre></p>"},{"location":"design/CLI_DESIGN_DECISIONS/#final-top-level-recommendation","title":"Final Top-Level Recommendation","text":"<p>Essential Top-Level (8 commands): 1. <code>get</code> - Clone operation 2. <code>update</code> - Update operation 3. <code>status</code> - Git status 4. <code>query</code> - Query language 5. <code>list</code> - List repos (shortcut for <code>fs ls /repos</code>) 6. <code>top</code> - Activity monitoring 7. <code>shell</code> - Interactive mode 8. <code>metadata</code> - System management</p> <p>Groups (7 groups): 1. <code>tag</code> - Tag management (existing) 2. <code>docs</code> - Documentation (existing) 3. <code>analysis</code> - Audit, network, AI 4. <code>social</code> - Social media 5. <code>fs</code> - Virtual filesystem operations 6. <code>service</code> - Background service 7. <code>config</code> - Configuration 8. <code>export</code> - Export formats (if grouped, see Q6)</p> <p>Deprecated (keep for backward compat): - <code>catalog</code> \u2192 use <code>tag</code> or <code>fs</code> instead</p>"},{"location":"design/CLI_DESIGN_DECISIONS/#question-6-export-command-structure","title":"Question 6: Export Command Structure","text":""},{"location":"design/CLI_DESIGN_DECISIONS/#pattern-analysis-from-popular-tools","title":"Pattern Analysis from Popular Tools","text":"<p>Git Pattern (flat with flags): <pre><code>git log --oneline --graph --all\ngit diff --stat --color\n</code></pre></p> <p>Docker Pattern (grouped): <pre><code>docker image ls\ndocker image build\ndocker image push\ndocker container run\ndocker container ls\n</code></pre></p> <p>Pip Pattern (flat): <pre><code>pip install --upgrade package\npip list --format json\n</code></pre></p>"},{"location":"design/CLI_DESIGN_DECISIONS/#current-export-implementation","title":"Current Export Implementation","text":"<pre><code>repoindex export --format markdown --output-dir ./docs\nrepoindex export --format hugo --output-dir ./site\nrepoindex export --format html --output-dir ./public\nrepoindex export --format pdf --output-file report.pdf\n</code></pre>"},{"location":"design/CLI_DESIGN_DECISIONS/#option-1-keep-flat-with-format-flag-current","title":"Option 1: Keep Flat with --format Flag (Current)","text":"<p>Pros: - \u2705 Simple, Pythonic - \u2705 Single command to learn - \u2705 Similar to <code>pip</code>, <code>git</code> - \u2705 Easy to add new formats - \u2705 Less typing for common case</p> <p>Cons: - \u274c Format-specific options get mixed - \u274c Help text becomes long - \u274c Hard to have format-specific validation</p> <p>Example: <pre><code>repoindex export --format markdown --output-dir ./docs\nrepoindex export --format hugo --output-dir ./site --theme minimal\nrepoindex export --format pdf --template custom.jinja2\n</code></pre></p>"},{"location":"design/CLI_DESIGN_DECISIONS/#option-2-grouped-by-format","title":"Option 2: Grouped by Format","text":"<p>Pros: - \u2705 Format-specific options are clear - \u2705 Better help organization - \u2705 Each format can have unique flags - \u2705 Similar to Docker pattern</p> <p>Cons: - \u274c More typing - \u274c More commands to document - \u274c Feels heavy for simple use case</p> <p>Example: <pre><code>repoindex export markdown --output-dir ./docs\nrepoindex export hugo --output-dir ./site --theme minimal\nrepoindex export pdf --template custom.jinja2\nrepoindex export html --output-dir ./public --style dark\n</code></pre></p>"},{"location":"design/CLI_DESIGN_DECISIONS/#option-3-hybrid-grouped-smart-defaults","title":"Option 3: Hybrid (Grouped + Smart Defaults)","text":"<p>Pros: - \u2705 Both patterns work - \u2705 Short form for common case - \u2705 Detailed form for complex case - \u2705 Most flexible</p> <p>Cons: - \u274c Two ways to do same thing - \u274c More code to maintain</p> <p>Example: <pre><code># Simple case - use default format detector\nrepoindex export ./output              # Auto-detects format from dir structure\n\n# Explicit format (short)\nrepoindex export --format hugo ./site  # Flag-based\n\n# Explicit format (grouped)\nrepoindex export hugo ./site           # Subcommand-based\n\n# Both work!\n</code></pre></p>"},{"location":"design/CLI_DESIGN_DECISIONS/#recommendation-option-1-flat-with-format","title":"Recommendation: Option 1 (Flat with --format)","text":"<p>Why: 1. Pythonic - Similar to pip, argparse patterns 2. Simple - One command, clear intent 3. Least Surprising - Users expect <code>--format</code> for multi-format tools 4. Elegant - No artificial grouping needed 5. Current Implementation - Already works this way</p> <p>Evidence from Python ecosystem: <pre><code># Black (formatter)\nblack --diff --color file.py\n\n# Pytest\npytest --verbose --color=yes\n\n# Sphinx\nsphinx-build -b html source build\n\n# Mypy\nmypy --strict --show-error-codes\n</code></pre></p> <p>Comparison to alternatives:</p> Pattern Tools Using It Python Preference Flat with flags pip, black, pytest, mypy, sphinx \u2b50\u2b50\u2b50\u2b50\u2b50 Most Pythonic Grouped commands docker, kubectl, cargo \u2b50\u2b50\u2b50 Less common in Python Hybrid git (subcommands + flags) \u2b50\u2b50\u2b50\u2b50 Common for VCS <p>Final Decision: Keep <code>export</code> as single command with <code>--format</code> flag</p> <p>Benefits: - Matches Python ecosystem conventions - Simple and elegant - Easy to extend with new formats - Current implementation already follows this pattern - Users can easily discover all formats via <code>--help</code></p>"},{"location":"design/CLI_DESIGN_DECISIONS/#final-proposed-structure","title":"Final Proposed Structure","text":"<pre><code>repoindex\n\u2502\n\u251c\u2500\u2500 Core Operations (Top-Level)\n\u2502   \u251c\u2500\u2500 get          Clone repositories\n\u2502   \u251c\u2500\u2500 update       Update repositories\n\u2502   \u251c\u2500\u2500 status       Show git status\n\u2502   \u251c\u2500\u2500 query        Query with expression language\n\u2502   \u251c\u2500\u2500 list         List repositories (shortcut for fs ls /repos)\n\u2502   \u251c\u2500\u2500 top          Show recent activity\n\u2502   \u251c\u2500\u2500 shell        Launch interactive shell\n\u2502   \u2514\u2500\u2500 metadata     Manage metadata store\n\u2502\n\u251c\u2500\u2500 Command Groups\n\u2502   \u251c\u2500\u2500 tag          Tag management (existing group)\n\u2502   \u2502   \u251c\u2500\u2500 add\n\u2502   \u2502   \u251c\u2500\u2500 remove\n\u2502   \u2502   \u251c\u2500\u2500 move\n\u2502   \u2502   \u251c\u2500\u2500 list\n\u2502   \u2502   \u2514\u2500\u2500 tree\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 docs         Documentation (existing group)\n\u2502   \u2502   \u251c\u2500\u2500 build\n\u2502   \u2502   \u251c\u2500\u2500 deploy\n\u2502   \u2502   \u2514\u2500\u2500 detect\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 analysis     Analysis operations (new group)\n\u2502   \u2502   \u251c\u2500\u2500 audit    Health checks\n\u2502   \u2502   \u251c\u2500\u2500 network  Network analysis\n\u2502   \u2502   \u2514\u2500\u2500 ai       AI conversations\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 social       Social media (convert from social-cmd)\n\u2502   \u2502   \u251c\u2500\u2500 post     Create post\n\u2502   \u2502   \u251c\u2500\u2500 schedule Schedule posts\n\u2502   \u2502   \u2514\u2500\u2500 list     List posts\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 fs           Virtual filesystem (new group)\n\u2502   \u2502   \u251c\u2500\u2500 ls       List path contents\n\u2502   \u2502   \u251c\u2500\u2500 tree     Show tree view\n\u2502   \u2502   \u251c\u2500\u2500 find     Find by criteria\n\u2502   \u2502   \u2514\u2500\u2500 info     Show path info\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 service      Background service (new group)\n\u2502   \u2502   \u251c\u2500\u2500 start    Start service\n\u2502   \u2502   \u251c\u2500\u2500 stop     Stop service\n\u2502   \u2502   \u251c\u2500\u2500 status   Service status\n\u2502   \u2502   \u2514\u2500\u2500 logs     View logs\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 config       Configuration (new group)\n\u2502       \u251c\u2500\u2500 show     Show configuration\n\u2502       \u251c\u2500\u2500 set      Set value\n\u2502       \u251c\u2500\u2500 edit     Edit config file\n\u2502       \u2514\u2500\u2500 init     Initialize config\n\u2502\n\u251c\u2500\u2500 Single Commands (Stay as-is)\n\u2502   \u2514\u2500\u2500 export       Export data (--format flag, not grouped)\n\u2502\n\u2514\u2500\u2500 Deprecated (Backward compat)\n    \u2514\u2500\u2500 catalog      Use 'tag' or 'fs' instead\n</code></pre>"},{"location":"design/CLI_DESIGN_DECISIONS/#summary-of-decisions","title":"Summary of Decisions","text":"<ol> <li>\u2705 Use hybrid structure - Common at top-level, rest grouped</li> <li>\u2705 Create <code>fs</code> group - Stateless VFS operations with absolute paths</li> <li>\u2705 Naming: <code>analysis</code>, <code>fs</code>, <code>social</code></li> <li>\u2705 Backward compat: Keep aliases, plan removal later</li> <li>\u2705 Top-level commands: get, update, status, query, list, top, shell, metadata (8 total)</li> <li>\u2705 Export structure: Keep flat with <code>--format</code> flag (most Pythonic)</li> </ol>"},{"location":"design/CLI_DESIGN_DECISIONS/#key-insights","title":"Key Insights","text":""},{"location":"design/CLI_DESIGN_DECISIONS/#list-stays-top-level-because","title":"<code>list</code> stays top-level because:","text":"<ul> <li>It's a frequently used discovery command</li> <li>Acts as convenient shortcut for <code>fs ls /repos</code></li> <li>Users expect <code>repoindex list</code> to work (established pattern)</li> <li><code>fs ls</code> is for browsing VFS structure, <code>list</code> is for listing repos</li> </ul>"},{"location":"design/CLI_DESIGN_DECISIONS/#fs-group-provides","title":"<code>fs</code> group provides:","text":"<ul> <li>Stateless VFS browsing with absolute paths</li> <li>Discovery operations that mirror shell navigation</li> <li>Alternative to <code>list</code> and <code>query</code> with path-based interface</li> <li>Tree visualization of tag hierarchies</li> </ul>"},{"location":"design/CLI_DESIGN_DECISIONS/#relationship-between-commands","title":"Relationship between commands:","text":"<pre><code># These are equivalent:\nrepoindex list                           # Traditional listing\nrepoindex fs ls /repos                   # VFS-based listing\n\n# These are equivalent:\nrepoindex list --language Python         # Filter-based\nrepoindex fs ls /by-language/Python      # Path-based\n\n# These are equivalent:\nrepoindex query \"stars &gt; 10\"             # Query language\nrepoindex fs find --min-stars 10         # Criteria-based\n\n# These complement each other:\nrepoindex tag list -t alex/beta          # Tag-centric view\nrepoindex fs ls /by-tag/alex/beta        # Path-centric view\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/","title":"Git Commands Design","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#vision","title":"Vision","text":"<p>Replicate familiar git commands in repoindex, allowing users to run git operations on repositories through the VFS. This is especially powerful in the shell where users can execute git commands on multiple repositories at once.</p>"},{"location":"design/GIT_COMMANDS_DESIGN/#key-design-principles","title":"Key Design Principles","text":"<ol> <li>Familiar Interface: Commands should feel like native git</li> <li>VFS-Aware: Work with VFS paths, not just filesystem paths</li> <li>Multi-Repo: Can operate on multiple repositories simultaneously</li> <li>Shell-First: Optimized for interactive shell use, but CLI works too</li> <li>Non-Destructive Defaults: Require confirmation for destructive operations</li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#use-cases","title":"Use Cases","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#in-shell","title":"In Shell","text":"<pre><code># Navigate to VFS location\nrepoindex:/&gt; cd /by-tag/work/active\n\n# Run git status on ALL repos with that tag\nrepoindex:/by-tag/work/active&gt; git status\n\n# See recent commits across all active work repos\nrepoindex:/by-tag/work/active&gt; git log --oneline -5\n\n# Pull updates for all active work repos\nrepoindex:/by-tag/work/active&gt; git pull\n\n# Navigate to specific repo\nrepoindex:/&gt; cd /repos/myproject\n\n# Git commands work on single repo\nrepoindex:/repos/myproject&gt; git log --graph --all\nrepoindex:/repos/myproject&gt; git diff\nrepoindex:/repos/myproject&gt; git commit -m \"Update\"\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#in-cli","title":"In CLI","text":"<pre><code># Status for specific VFS path\nrepoindex git status /by-tag/work/active\n\n# Log for specific repo\nrepoindex git log /repos/myproject --oneline -5\n\n# Pull all repos in directory\nrepoindex git pull /by-tag/needs-update\n\n# Diff across multiple repos\nrepoindex git diff --name-status /by-language/Python\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#command-categories","title":"Command Categories","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#read-only-commands-safe-no-confirmation","title":"Read-Only Commands (Safe, No Confirmation)","text":"<ul> <li><code>git status</code> - Show working tree status</li> <li><code>git log</code> - Show commit history</li> <li><code>git diff</code> - Show changes</li> <li><code>git show</code> - Show commit details</li> <li><code>git branch</code> - List branches</li> <li><code>git remote</code> - Show remotes</li> <li><code>git ls-files</code> - List tracked files</li> <li><code>git blame</code> - Show line-by-line authorship</li> </ul>"},{"location":"design/GIT_COMMANDS_DESIGN/#state-changing-commands-require-confirmation","title":"State-Changing Commands (Require Confirmation)","text":"<ul> <li><code>git pull</code> - Pull from remote</li> <li><code>git fetch</code> - Fetch from remote</li> <li><code>git push</code> - Push to remote (with --dry-run default?)</li> <li><code>git checkout</code> / <code>git switch</code> - Switch branches</li> <li><code>git stash</code> - Stash changes</li> <li><code>git clean</code> - Remove untracked files</li> </ul>"},{"location":"design/GIT_COMMANDS_DESIGN/#write-commands-require-explicit-confirmation","title":"Write Commands (Require Explicit Confirmation)","text":"<ul> <li><code>git add</code> - Stage changes</li> <li><code>git commit</code> - Commit changes</li> <li><code>git reset</code> - Reset changes</li> <li><code>git revert</code> - Revert commits</li> <li><code>git merge</code> - Merge branches</li> <li><code>git rebase</code> - Rebase branches</li> </ul>"},{"location":"design/GIT_COMMANDS_DESIGN/#implementation-structure","title":"Implementation Structure","text":"<pre><code>repoindex git &lt;command&gt; [VFS_PATH] [options]\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#examples","title":"Examples:","text":"<pre><code># CLI mode - path is explicit\nrepoindex git status /by-tag/work/active\nrepoindex git log /repos/myproject --oneline -10\nrepoindex git pull /by-tag/needs-update --confirm\n\n# Shell mode - path is from cwd\nrepoindex:/by-tag/work/active&gt; git status\nrepoindex:/repos/myproject&gt; git log --oneline -10\nrepoindex:/by-tag/needs-update&gt; git pull\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#output-formats","title":"Output Formats","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#single-repository","title":"Single Repository","text":"<pre><code>repoindex git status /repos/myproject\n\nRepository: myproject (/home/user/repos/myproject)\nOn branch: main\nYour branch is up to date with 'origin/main'.\n\nChanges not staged for commit:\n  modified:   README.md\n  modified:   src/main.py\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#multiple-repositories","title":"Multiple Repositories","text":"<pre><code>repoindex git status /by-tag/work/active\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nRepository: myproject\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nOn branch: main\nModified: 2 files\nUntracked: 0 files\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nRepository: another-project\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nOn branch: develop\nClean working tree\n\nSummary: 2 repositories, 1 with changes\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#jsonl-mode","title":"JSONL Mode","text":"<pre><code>repoindex git status /by-tag/work/active --json\n\n{\"repo\": \"myproject\", \"path\": \"/home/user/repos/myproject\", \"branch\": \"main\", \"clean\": false, \"modified\": 2}\n{\"repo\": \"another-project\", \"path\": \"/home/user/repos/another\", \"branch\": \"develop\", \"clean\": true, \"modified\": 0}\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#command-specific-designs","title":"Command-Specific Designs","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#git-status","title":"<code>git status</code>","text":"<pre><code>Usage: repoindex git status [VFS_PATH] [OPTIONS]\n\nShow working tree status for repositories.\n\nOptions:\n  --short, -s          Show short format\n  --branch, -b         Show branch info\n  --json               Output as JSONL\n  --dirty-only         Show only repos with changes\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#git-log","title":"<code>git log</code>","text":"<pre><code>Usage: repoindex git log [VFS_PATH] [OPTIONS]\n\nShow commit history.\n\nOptions:\n  --oneline            Show one line per commit\n  --graph              Show commit graph\n  --all                Show all branches\n  -n, --max-count N    Limit to N commits\n  --since DATE         Show commits since date\n  --author AUTHOR      Filter by author\n  --json               Output as JSONL\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#git-pull","title":"<code>git pull</code>","text":"<pre><code>Usage: repoindex git pull [VFS_PATH] [OPTIONS]\n\nPull changes from remote.\n\nOptions:\n  --dry-run            Show what would be pulled\n  --confirm            Require confirmation for each repo\n  --no-confirm         Don't require confirmation (use with caution!)\n  --parallel           Pull repos in parallel\n  --json               Output as JSONL\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#git-diff","title":"<code>git diff</code>","text":"<pre><code>Usage: repoindex git diff [VFS_PATH] [OPTIONS]\n\nShow changes.\n\nOptions:\n  --name-only          Show only names\n  --name-status        Show names with status\n  --stat               Show stats\n  --cached, --staged   Show staged changes\n  --json               Output as JSONL\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#shell-integration","title":"Shell Integration","text":"<p>In the shell, git commands should:</p> <ol> <li> <p>Use current VFS directory as default path <pre><code>repoindex:/by-tag/work/active&gt; git status\n# Equivalent to: repoindex git status /by-tag/work/active\n</code></pre></p> </li> <li> <p>Support relative VFS paths <pre><code>repoindex:/by-tag&gt; git status work/active\n# Equivalent to: repoindex git status /by-tag/work/active\n</code></pre></p> </li> <li> <p>Work on single repos <pre><code>repoindex:/repos/myproject&gt; git log --oneline -10\n# Shows log for just myproject\n</code></pre></p> </li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#safety-features","title":"Safety Features","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#confirmation-prompts","title":"Confirmation Prompts","text":"<pre><code>repoindex git pull /by-tag/work/active\n\nFound 5 repositories. Pull changes? [y/N]: y\n\nPulling: myproject... \u2713 (already up to date)\nPulling: another-project... \u2713 (fast-forward, 3 commits)\nPulling: third-project... \u2717 (merge conflict, skipped)\n\nSummary: 2/5 successful, 1 failed\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#dry-run-mode","title":"Dry Run Mode","text":"<pre><code>repoindex git push /by-tag/ready-to-publish --dry-run\n\nWould push to remote:\n  myproject (main): 2 commits\n  another-project (develop): 1 commit\n\nUse --confirm to actually push.\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#implementation-plan","title":"Implementation Plan","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#phase-1-read-only-commands","title":"Phase 1: Read-Only Commands","text":"<ol> <li>Implement <code>git status</code></li> <li>Implement <code>git log</code></li> <li>Implement <code>git diff</code></li> <li>Implement <code>git show</code></li> <li>Implement <code>git branch</code></li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#phase-2-fetch-operations","title":"Phase 2: Fetch Operations","text":"<ol> <li>Implement <code>git fetch</code></li> <li>Implement <code>git pull</code> (with confirmation)</li> <li>Implement <code>git remote</code></li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#phase-3-write-operations","title":"Phase 3: Write Operations","text":"<ol> <li>Implement <code>git add</code></li> <li>Implement <code>git commit</code></li> <li>Implement <code>git push</code> (with confirmation)</li> <li>Implement <code>git stash</code></li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#phase-4-advanced-operations","title":"Phase 4: Advanced Operations","text":"<ol> <li>Implement <code>git checkout</code> / <code>git switch</code></li> <li>Implement <code>git merge</code></li> <li>Implement <code>git rebase</code></li> <li>Implement <code>git reset</code></li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#file-structure","title":"File Structure","text":"<pre><code>repoindex/commands/git.py          # Main git command group\nrepoindex/git_ops/\n    __init__.py\n    status.py                   # Git status operations\n    log.py                      # Git log operations\n    diff.py                     # Git diff operations\n    pull.py                     # Git pull operations\n    commit.py                   # Git commit operations\n    utils.py                    # Common git utilities\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#key-implementation-details","title":"Key Implementation Details","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#multi-repo-execution","title":"Multi-Repo Execution","text":"<pre><code>def execute_git_on_repos(repos: List[str], git_command: str,\n                        parallel: bool = False,\n                        confirm: bool = True) -&gt; Generator[Dict, None, None]:\n    \"\"\"Execute git command on multiple repositories.\"\"\"\n\n    if confirm and len(repos) &gt; 1:\n        if not click.confirm(f\"Execute on {len(repos)} repositories?\"):\n            return\n\n    if parallel:\n        # Use threading/multiprocessing\n        with ThreadPoolExecutor() as executor:\n            futures = {executor.submit(run_git, repo, git_command): repo\n                      for repo in repos}\n            for future in as_completed(futures):\n                yield future.result()\n    else:\n        # Sequential execution\n        for repo in repos:\n            yield run_git(repo, git_command)\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#vfs-path-resolution","title":"VFS Path Resolution","text":"<pre><code>def get_repos_from_vfs_path(vfs_path: str) -&gt; List[str]:\n    \"\"\"Get all repository paths from a VFS path.\"\"\"\n    vfs = build_vfs_structure(load_config())\n    node = resolve_vfs_path(vfs, vfs_path)\n\n    if node['type'] == 'repository':\n        return [node['path']]\n    elif node['type'] == 'symlink':\n        return [node['path']]\n    elif node['type'] == 'directory':\n        # Collect all repos in this directory recursively\n        return collect_repos_from_node(node)\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#benefits","title":"Benefits","text":"<ol> <li>Familiar Commands: Users already know git</li> <li>Multi-Repo Power: Operate on many repos at once</li> <li>VFS Integration: Natural fit with VFS navigation</li> <li>Flexible: Works in both CLI and shell</li> <li>Safe: Confirmation prompts prevent accidents</li> <li>Scriptable: JSONL output for automation</li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#example-workflows","title":"Example Workflows","text":""},{"location":"design/GIT_COMMANDS_DESIGN/#daily-status-check","title":"Daily Status Check","text":"<pre><code># In shell\nrepoindex:/&gt; cd /by-tag/work/active\nrepoindex:/by-tag/work/active&gt; git status --dirty-only\n\n# Shows only repos with uncommitted changes\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#pull-all-work-repos","title":"Pull All Work Repos","text":"<pre><code># In CLI\nrepoindex git pull /by-tag/work --confirm\n\n# Pulls updates for all work-tagged repos with confirmation\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#view-recent-activity","title":"View Recent Activity","text":"<pre><code># In shell\nrepoindex:/by-tag/client/acme&gt; git log --since=\"1 week ago\" --oneline\n\n# Shows commits from last week across all client repos\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#bulk-operations","title":"Bulk Operations","text":"<pre><code># Push all ready repos\nrepoindex git push /by-tag/ready-to-publish --dry-run  # Check first\nrepoindex git push /by-tag/ready-to-publish --confirm  # Then push\n</code></pre>"},{"location":"design/GIT_COMMANDS_DESIGN/#questions-to-consider","title":"Questions to Consider","text":"<ol> <li>Should we allow glob patterns in VFS paths? <code>/by-tag/work/*</code></li> <li>Should we support git aliases/custom shortcuts?</li> <li>Should there be a <code>--all</code> flag to run on all repos?</li> <li>How to handle repos in different states (some ahead, some behind)?</li> <li>Should we add repoindex-specific enhancements (like auto-fix, bulk tagging based on git state)?</li> </ol>"},{"location":"design/GIT_COMMANDS_DESIGN/#next-steps","title":"Next Steps","text":"<ol> <li>Implement basic <code>git status</code> command</li> <li>Test with multiple repos</li> <li>Add to shell as a command</li> <li>Iterate based on usage</li> </ol>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/","title":"Version Management Implementation","text":"<p>Date: 2025-10-20</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#overview","title":"Overview","text":"<p>Added comprehensive version management to the <code>repoindex publish</code> command, supporting automatic version bumping and setting across multiple package ecosystems.</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#features-implemented","title":"Features Implemented","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#1-version-bumping","title":"1. Version Bumping","text":"<p>Usage: <pre><code>repoindex publish --bump-version patch     # 1.0.0 \u2192 1.0.1\nrepoindex publish --bump-version minor     # 1.0.0 \u2192 1.1.0\nrepoindex publish --bump-version major     # 1.0.0 \u2192 2.0.0\n</code></pre></p> <p>Supports: - Semantic versioning (major.minor.patch) - PEP 440 for Python - Standard semver for Node.js, Rust, Go - Custom formats for C++</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#2-version-setting","title":"2. Version Setting","text":"<p>Usage: <pre><code>repoindex publish --set-version 2.0.0\n</code></pre></p> <p>Sets an explicit version across all project files.</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#3-version-only-mode","title":"3. Version-Only Mode","text":"<p>Usage: <pre><code>repoindex publish --bump-version patch --version-only\n</code></pre></p> <p>Updates version without publishing. Useful for: - Preparing releases - Version synchronization across files - Pre-release version updates</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#4-combined-with-publishing","title":"4. Combined with Publishing","text":"<p>Usage: <pre><code># Bump version and publish in one command\nrepoindex publish --bump-version patch\n\n# Set version and publish\nrepoindex publish --set-version 1.0.0\n\n# Dry-run to preview\nrepoindex publish --bump-version minor --dry-run\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#supported-package-types","title":"Supported Package Types","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#python-pep-440","title":"Python (PEP 440)","text":"<p>Files Updated: - <code>pyproject.toml</code> - project.version or tool.poetry.version - <code>setup.py</code> - version parameter - <code>*/__init__.py</code> - version variable</p> <p>Detection: pyproject.toml, setup.py, setup.cfg</p> <p>Example: <pre><code># Current: 0.7.0\nrepoindex publish --bump-version patch\n# New: 0.7.1 in pyproject.toml and __init__.py\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#nodejs-semver","title":"Node.js (semver)","text":"<p>Files Updated: - <code>package.json</code> - version field</p> <p>Detection: package.json</p> <p>Example: <pre><code># package.json: \"version\": \"1.0.0\"\nrepoindex publish --bump-version minor\n# package.json: \"version\": \"1.1.0\"\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#rust-semver","title":"Rust (semver)","text":"<p>Files Updated: - <code>Cargo.toml</code> - [package] version</p> <p>Detection: Cargo.toml</p> <p>Example: <pre><code># Cargo.toml: version = \"0.5.0\"\nrepoindex publish --bump-version patch\n# Cargo.toml: version = \"0.5.1\"\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#c-varies","title":"C++ (varies)","text":"<p>Files Updated: - <code>conanfile.py</code> - version variable - <code>CMakeLists.txt</code> - project(... VERSION x.y.z)</p> <p>Detection: conanfile.py, conanfile.txt, vcpkg.json, CMakeLists.txt</p> <p>Example: <pre><code># conanfile.py: version = \"1.2.0\"\nrepoindex publish --bump-version major\n# conanfile.py: version = \"2.0.0\"\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#go-semver-via-git-tags","title":"Go (semver via git tags)","text":"<p>Files Updated: - Git tags (no file changes)</p> <p>Detection: go.mod</p> <p>Example: <pre><code># Latest tag: v1.0.0\nrepoindex publish --bump-version minor\n# New tag: v1.1.0\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#ruby-semver","title":"Ruby (semver)","text":"<p>Files Updated: - <code>*.gemspec</code> - version field - <code>VERSION</code> file (if present)</p> <p>Detection: Gemfile, *.gemspec</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#implementation-details","title":"Implementation Details","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#architecture","title":"Architecture","text":"<p>New Module: <code>repoindex/version_manager.py</code> (~350 lines)</p> <p>Components: 1. VersionBumper - Generic semver bumping logic 2. Language-Specific Managers:    - PythonVersionManager    - NodeVersionManager    - RustVersionManager    - CppVersionManager    - GoVersionManager</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#version-bumping-algorithm","title":"Version Bumping Algorithm","text":"<pre><code>class VersionBumper:\n    def bump_major(version: str) -&gt; str:\n        # 1.2.3 \u2192 2.0.0\n        major + 1, minor = 0, patch = 0\n\n    def bump_minor(version: str) -&gt; str:\n        # 1.2.3 \u2192 1.3.0\n        minor + 1, patch = 0\n\n    def bump_patch(version: str) -&gt; str:\n        # 1.2.3 \u2192 1.2.4\n        patch + 1\n</code></pre> <p>Uses <code>packaging.version.Version</code> for robust parsing with fallback to string manipulation.</p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#file-detection-updates","title":"File Detection &amp; Updates","text":"<p>Each language manager implements: - <code>get_version(repo_path)</code> - Read current version from project files - <code>set_version(repo_path, new_version)</code> - Write new version to all relevant files</p> <p>Python Example: <pre><code>class PythonVersionManager:\n    @staticmethod\n    def get_version(repo_path):\n        # Try pyproject.toml\n        # Try setup.py\n        # Try __init__.py\n        return version\n\n    @staticmethod\n    def set_version(repo_path, new_version):\n        # Update pyproject.toml\n        # Update setup.py\n        # Update __init__.py\n        return success\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#integration-with-publish-workflow","title":"Integration with Publish Workflow","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#workflow-order","title":"Workflow Order","text":"<ol> <li>Detect project type \u2192 python, node, rust, etc.</li> <li>Get current version \u2192 Read from project files</li> <li>Bump/Set version (if flags provided)</li> <li>Bump: Calculate new version based on semver</li> <li>Set: Use explicit version</li> <li>Update all relevant files</li> <li>Publish (unless --version-only)</li> <li>Build package with new version</li> <li>Upload to registry</li> </ol>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#dry-run-support","title":"Dry-Run Support","text":"<p>All operations support <code>--dry-run</code>: <pre><code>$ repoindex publish --bump-version patch --dry-run\n\nProcessing: repoindex\n\u2713 Detected types: python\nCurrent version: 0.7.0\nWould bump patch: 0.7.0 \u2192 0.7.1\nPublishing Python package to PyPI...\nWould run: python -m twine upload dist/*\n\u2713 Dry run: would upload to PyPI\n</code></pre></p>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#usage-examples","title":"Usage Examples","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#scenario-1-patch-release","title":"Scenario 1: Patch Release","text":"<pre><code># Make bug fixes\ngit commit -m \"fix: resolve timeout issue\"\n\n# Bump patch version and publish\nrepoindex publish --bump-version patch\n\n# Output:\n# Current version: 1.0.0\n# \u2713 Bumped patch: 1.0.0 \u2192 1.0.1\n# \u2713 Published to PyPI\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#scenario-2-minor-release-with-new-features","title":"Scenario 2: Minor Release with New Features","text":"<pre><code># Add features\ngit commit -m \"feat: add new export format\"\n\n# Bump minor version\nrepoindex publish --bump-version minor\n\n# Output:\n# Current version: 1.0.1\n# \u2713 Bumped minor: 1.0.1 \u2192 1.1.0\n# \u2713 Published to PyPI\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#scenario-3-major-breaking-changes","title":"Scenario 3: Major Breaking Changes","text":"<pre><code># Make breaking changes\ngit commit -m \"feat!: redesign API\"\n\n# Bump major version\nrepoindex publish --bump-version major\n\n# Output:\n# Current version: 1.1.0\n# \u2713 Bumped major: 1.1.0 \u2192 2.0.0\n# \u2713 Published to PyPI\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#scenario-4-pre-release-version-sync","title":"Scenario 4: Pre-Release Version Sync","text":"<pre><code># Update version across all files without publishing\nrepoindex publish --set-version 2.0.0-beta.1 --version-only\n\n# Output:\n# Current version: 1.1.0\n# \u2713 Version set to: 2.0.0-beta.1\n# Summary: \u2713 Version updated\n\n# Later, publish when ready\nrepoindex publish\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#scenario-5-bulk-version-updates","title":"Scenario 5: Bulk Version Updates","text":"<pre><code># Update all Python packages to 1.0.0\nrepoindex publish /by-language/Python --set-version 1.0.0 --version-only --dry-run\n\n# Shows what would be updated for each repo\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#cli-options-summary","title":"CLI Options Summary","text":"Option Description Example <code>--bump-version major</code> Bump major version (x.0.0) 1.0.0 \u2192 2.0.0 <code>--bump-version minor</code> Bump minor version (x.y.0) 1.0.0 \u2192 1.1.0 <code>--bump-version patch</code> Bump patch version (x.y.z) 1.0.0 \u2192 1.0.1 <code>--set-version X.Y.Z</code> Set explicit version Sets to X.Y.Z <code>--version-only</code> Update version without publishing Version update only <code>--dry-run</code> Preview without making changes Shows planned changes"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#configuration","title":"Configuration","text":"<p>No configuration required - version management works automatically based on detected project type. Optional configuration for registry preferences:</p> <pre><code>{\n  \"publish\": {\n    \"python\": [\"pypi\"],\n    \"node\": [\"npm\"],\n    \"rust\": [\"crates.io\"]\n  }\n}\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#error-handling","title":"Error Handling","text":"<ul> <li>No version found: Starts from 0.0.0</li> <li>File not writable: Reports error, continues with other files</li> <li>Invalid version format: Falls back to string manipulation</li> <li>Multiple project types: Uses first detected type for versioning</li> </ul>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#testing","title":"Testing","text":"<pre><code># Test version detection\nrepoindex publish --dry-run\n# Shows: Current version: X.Y.Z\n\n# Test bumping without publishing\nrepoindex publish --bump-version patch --version-only --dry-run\n# Shows: Would bump patch: X.Y.Z \u2192 X.Y.Z+1\n\n# Test setting version\nrepoindex publish --set-version 2.0.0 --version-only --dry-run\n# Shows: Would set version to: 2.0.0\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#files-createdmodified","title":"Files Created/Modified","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#new-files-1","title":"New Files (1)","text":"<ul> <li><code>repoindex/version_manager.py</code> - Complete version management implementation</li> </ul>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#modified-files-1","title":"Modified Files (1)","text":"<ul> <li><code>repoindex/commands/publish.py</code> - Added version bumping options and integration</li> </ul>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#future-enhancements","title":"Future Enhancements","text":""},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#potential-additions","title":"Potential Additions","text":"<ol> <li>Version constraints - Validate versions against constraints</li> <li>Changelog generation - Auto-update CHANGELOG.md</li> <li>Git tagging - Auto-create git tags for versions</li> <li>Commit integration - Auto-commit version changes</li> <li>Version history - Track version changes over time</li> <li>Custom bumping rules - Config-driven version strategies</li> <li>Pre-release support - Handle alpha, beta, rc versions</li> </ol>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#example-future-usage","title":"Example Future Usage","text":"<pre><code># Bump version, update changelog, create git tag, commit, and publish\nrepoindex publish --bump-version minor --changelog --tag --commit\n</code></pre>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#benefits","title":"Benefits","text":"<ol> <li>Consistency: All project files stay in sync</li> <li>Automation: No manual version editing</li> <li>Safety: Dry-run mode prevents accidents</li> <li>Flexibility: Bump or set, publish or not</li> <li>Multi-language: Works across ecosystems</li> <li>VFS Integration: Works with VFS paths for bulk updates</li> <li>Pipeline Ready: Scriptable for CI/CD</li> </ol>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Always use --dry-run first:    <pre><code>repoindex publish --bump-version patch --dry-run\n# Review output, then run without --dry-run\n</code></pre></p> </li> <li> <p>Version-only for preparation:    <pre><code># Prepare release\nrepoindex publish --bump-version minor --version-only\ngit add .\ngit commit -m \"chore: bump version to $(cat VERSION)\"\n\n# Publish later\nrepoindex publish\n</code></pre></p> </li> <li> <p>Combine with VFS for bulk operations:    <pre><code># Update all Python packages\nrepoindex publish /by-language/Python --set-version 1.0.0 --version-only\n</code></pre></p> </li> <li> <p>Follow semver guidelines:</p> </li> <li>patch: Bug fixes, no API changes</li> <li>minor: New features, backward compatible</li> <li>major: Breaking changes</li> </ol>"},{"location":"design/VERSION_MANAGEMENT_IMPLEMENTATION/#statistics","title":"Statistics","text":"<ul> <li>Lines of code: ~600 (version_manager.py + publish.py updates)</li> <li>Package types supported: 6 (Python, Node.js, Rust, C++, Ruby, Go)</li> <li>Version bump types: 3 (major, minor, patch)</li> <li>Files per language: 1-3 (varies by ecosystem)</li> <li>Test coverage: Dry-run tested on multiple project types</li> </ul> <p>This implementation provides a complete, production-ready version management system integrated seamlessly with repoindex' publishing workflow.</p>"},{"location":"events/event-types/","title":"Event Types Reference","text":"<p>Reference for event types supported by repoindex.</p>"},{"location":"events/event-types/#git-events","title":"Git Events","text":"<p>Events scanned from git history during <code>repoindex refresh</code>.</p>"},{"location":"events/event-types/#git_tag","title":"git_tag","text":"<p>Git tags, typically used for releases and versions.</p> <pre><code>{\n  \"type\": \"git_tag\",\n  \"timestamp\": \"2024-01-15T10:30:00\",\n  \"repo_name\": \"myproject\",\n  \"repo_path\": \"/path/to/myproject\",\n  \"data\": {\n    \"tag\": \"v1.2.0\",\n    \"message\": \"Release 1.2.0\",\n    \"hash\": \"abc1234\"\n  }\n}\n</code></pre>"},{"location":"events/event-types/#commit","title":"commit","text":"<p>Individual git commits.</p> <pre><code>{\n  \"type\": \"commit\",\n  \"timestamp\": \"2024-01-15T09:00:00\",\n  \"repo_name\": \"myproject\",\n  \"data\": {\n    \"hash\": \"abc1234def5678\",\n    \"message\": \"Fix authentication bug\",\n    \"author\": \"developer@example.com\"\n  }\n}\n</code></pre>"},{"location":"events/event-types/#branch","title":"branch","text":"<p>Branch creation and deletion (detected from reflog).</p> <pre><code>{\n  \"type\": \"branch\",\n  \"timestamp\": \"2024-01-15T08:00:00\",\n  \"repo_name\": \"myproject\",\n  \"data\": {\n    \"branch\": \"feature/new-auth\",\n    \"action\": \"created\"\n  }\n}\n</code></pre>"},{"location":"events/event-types/#merge","title":"merge","text":"<p>Merge commits.</p> <pre><code>{\n  \"type\": \"merge\",\n  \"timestamp\": \"2024-01-15T11:00:00\",\n  \"repo_name\": \"myproject\",\n  \"data\": {\n    \"hash\": \"def5678\",\n    \"message\": \"Merge branch 'feature/new-auth' into main\",\n    \"merged_branch\": \"feature/new-auth\"\n  }\n}\n</code></pre>"},{"location":"events/event-types/#event-type-summary","title":"Event Type Summary","text":"Event Type Description Detection <code>git_tag</code> Git tags (releases, versions) Git log <code>commit</code> Git commits Git log <code>branch</code> Branch creation/deletion Git reflog <code>merge</code> Merge commits Git log"},{"location":"events/event-types/#filtering-events","title":"Filtering Events","text":"<p>Use <code>--type</code> to filter by specific event type:</p> <pre><code># Only git tags\nrepoindex events --type git_tag\n\n# Only commits\nrepoindex events --type commit\n\n# Multiple types\nrepoindex events --type git_tag --type commit\n</code></pre>"},{"location":"events/event-types/#event-storage","title":"Event Storage","text":"<p>Events are stored in the SQLite database (<code>~/.repoindex/repoindex.db</code>) during <code>refresh</code>:</p> <pre><code># Populate events for last 30 days\nrepoindex refresh --since 30d\n\n# Then query\nrepoindex events --since 7d\n</code></pre>"},{"location":"events/overview/","title":"Event System","text":"<p>repoindex provides an event scanning system that detects changes across your repository collection. Events are stored in the database and populated by <code>repoindex refresh</code>.</p>"},{"location":"events/overview/#philosophy","title":"Philosophy","text":"<p>The event system follows Unix principles:</p> <ul> <li>Database-first: Events are populated by <code>refresh</code>, then queried</li> <li>Stream-friendly: Use <code>--json</code> for JSONL output that pipes to <code>jq</code></li> <li>Composable: Use with cron, GitHub Actions, or any automation tool</li> <li>Fast queries: Events are indexed in SQLite for quick retrieval</li> </ul>"},{"location":"events/overview/#quick-start","title":"Quick Start","text":"<pre><code># First, populate events into the database\nrepoindex refresh --since 7d\n\n# Query recent events (default: last 7 days, pretty table)\nrepoindex events\n\n# Stream events as JSONL for processing\nrepoindex events --json | jq '.type'\n\n# Filter by type\nrepoindex events --type git_tag\n\n# Summary statistics\nrepoindex events --stats\n</code></pre>"},{"location":"events/overview/#event-types","title":"Event Types","text":"<p>Events are populated during <code>repoindex refresh</code> by scanning git history:</p> Event Type Description <code>git_tag</code> Git tags (releases, versions) <code>commit</code> Git commits <code>branch</code> Branch creation/deletion <code>merge</code> Merge commits"},{"location":"events/overview/#command-options","title":"Command Options","text":"Option Description <code>--type</code>, <code>-t</code> Filter by event type (can be repeated) <code>--repo</code>, <code>-r</code> Filter by repository name <code>--since</code>, <code>-s</code> Events after this time (e.g., 1h, 7d, 2024-01-01) <code>--until</code>, <code>-u</code> Events before this time <code>--limit</code>, <code>-n</code> Maximum events to return (default: 100, 0 for unlimited) <code>--json</code> Output as JSONL (default: pretty table) <code>--stats</code> Show summary statistics only"},{"location":"events/overview/#usage-examples","title":"Usage Examples","text":""},{"location":"events/overview/#filter-by-event-type","title":"Filter by Event Type","text":"<pre><code># Only git tags\nrepoindex events --type git_tag --since 30d\n\n# Only commits\nrepoindex events --type commit --since 7d\n</code></pre>"},{"location":"events/overview/#filter-by-repository","title":"Filter by Repository","text":"<pre><code># Events for a specific repo\nrepoindex events --repo myproject --since 7d\n</code></pre>"},{"location":"events/overview/#time-specifications","title":"Time Specifications","text":"<pre><code># Relative time\nrepoindex events --since 1h      # Last hour\nrepoindex events --since 7d      # Last 7 days\nrepoindex events --since 2w      # Last 2 weeks\n\n# Absolute time\nrepoindex events --since 2024-01-15\nrepoindex events --since 2024-01-15T10:30:00\n</code></pre>"},{"location":"events/overview/#output-formats","title":"Output Formats","text":"<pre><code># Pretty table (default)\nrepoindex events --since 1d\n\n# JSONL - one JSON object per line (for piping)\nrepoindex events --json --since 1d\n\n# Statistics summary\nrepoindex events --stats\n</code></pre>"},{"location":"events/overview/#controlling-limits","title":"Controlling Limits","text":"<pre><code># Default: 100 events\nrepoindex events --since 30d\n\n# Custom limit\nrepoindex events --since 30d --limit 500\n\n# Unlimited (careful with large time ranges!)\nrepoindex events --since 365d --limit 0\n</code></pre>"},{"location":"events/overview/#workflow","title":"Workflow","text":"<p>Events follow a two-step workflow:</p> <ol> <li> <p>Refresh - Scan repositories and populate events into database:    <pre><code>repoindex refresh --since 30d\n</code></pre></p> </li> <li> <p>Query - Retrieve events from database:    <pre><code>repoindex events --since 7d\n</code></pre></p> </li> </ol>"},{"location":"events/overview/#composing-with-other-tools","title":"Composing with Other Tools","text":""},{"location":"events/overview/#filter-with-jq","title":"Filter with jq","text":"<pre><code># Count events by type\nrepoindex events --json --since 7d | jq -r '.type' | sort | uniq -c | sort -rn\n\n# Get unique repos with events\nrepoindex events --json --since 7d | jq -r '.repo_name' | sort -u\n</code></pre>"},{"location":"events/overview/#trigger-actions","title":"Trigger Actions","text":"<pre><code># Process events in a script\nrepoindex events --json --type git_tag --since 1h | while read event; do\n  repo=$(echo \"$event\" | jq -r '.repo_name')\n  tag=$(echo \"$event\" | jq -r '.data.tag')\n  echo \"New tag: $repo $tag\"\ndone\n</code></pre> <p>See Event Types Reference for details on each event type.</p>"}]}