
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Collection-aware metadata index for git repositories">
      
      
      
      
        <link rel="prev" href="../CLI_DESIGN_DECISIONS/">
      
      
        <link rel="next" href="../VERSION_MANAGEMENT_IMPLEMENTATION/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Git Commands Design - repoindex</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#git-commands-design" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="repoindex" class="md-header__button md-logo" aria-label="repoindex" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            repoindex
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git Commands Design
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/queelius/repoindex" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    queelius/repoindex
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../usage/" class="md-tabs__link">
          
  
  
  Core

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../events/overview/" class="md-tabs__link">
          
  
  
  Events

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../shell-vfs/" class="md-tabs__link">
          
  
  
  Interactive

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../architecture-vision/" class="md-tabs__link">
          
  
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../contributing/" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="repoindex" class="md-nav__button md-logo" aria-label="repoindex" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    repoindex
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/queelius/repoindex" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    queelius/repoindex
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../catalog-query/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../query-cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query Cookbook
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/event-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Types Reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Interactive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Interactive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shell-vfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell & VFS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture-vision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CLI_DESIGN_DECISIONS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Decisions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Git Commands Design
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Git Commands Design
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vision" class="md-nav__link">
    <span class="md-ellipsis">
      Vision
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-design-principles" class="md-nav__link">
    <span class="md-ellipsis">
      Key Design Principles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-shell" class="md-nav__link">
    <span class="md-ellipsis">
      In Shell
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-cli" class="md-nav__link">
    <span class="md-ellipsis">
      In CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-categories" class="md-nav__link">
    <span class="md-ellipsis">
      Command Categories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Categories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-only-commands-safe-no-confirmation" class="md-nav__link">
    <span class="md-ellipsis">
      Read-Only Commands (Safe, No Confirmation)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-changing-commands-require-confirmation" class="md-nav__link">
    <span class="md-ellipsis">
      State-Changing Commands (Require Confirmation)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-commands-require-explicit-confirmation" class="md-nav__link">
    <span class="md-ellipsis">
      Write Commands (Require Explicit Confirmation)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Output Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Single Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Repositories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsonl-mode" class="md-nav__link">
    <span class="md-ellipsis">
      JSONL Mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-specific-designs" class="md-nav__link">
    <span class="md-ellipsis">
      Command-Specific Designs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command-Specific Designs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-status" class="md-nav__link">
    <span class="md-ellipsis">
      git status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-log" class="md-nav__link">
    <span class="md-ellipsis">
      git log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-pull" class="md-nav__link">
    <span class="md-ellipsis">
      git pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-diff" class="md-nav__link">
    <span class="md-ellipsis">
      git diff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shell-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-features" class="md-nav__link">
    <span class="md-ellipsis">
      Safety Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Safety Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#confirmation-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Confirmation Prompts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dry-run-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Dry Run Mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-plan" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-read-only-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Read-Only Commands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-fetch-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Fetch Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-write-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Write Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-advanced-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Advanced Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-structure" class="md-nav__link">
    <span class="md-ellipsis">
      File Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-implementation-details" class="md-nav__link">
    <span class="md-ellipsis">
      Key Implementation Details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Implementation Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-repo-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Repo Execution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vfs-path-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      VFS Path Resolution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#benefits" class="md-nav__link">
    <span class="md-ellipsis">
      Benefits
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Example Workflows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example Workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#daily-status-check" class="md-nav__link">
    <span class="md-ellipsis">
      Daily Status Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-all-work-repos" class="md-nav__link">
    <span class="md-ellipsis">
      Pull All Work Repos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-recent-activity" class="md-nav__link">
    <span class="md-ellipsis">
      View Recent Activity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bulk-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Bulk Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions-to-consider" class="md-nav__link">
    <span class="md-ellipsis">
      Questions to Consider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VERSION_MANAGEMENT_IMPLEMENTATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Version Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="git-commands-design">Git Commands Design</h1>
<h2 id="vision">Vision</h2>
<p>Replicate familiar git commands in repoindex, allowing users to run git operations on repositories through the VFS. This is especially powerful in the shell where users can execute git commands on multiple repositories at once.</p>
<h2 id="key-design-principles">Key Design Principles</h2>
<ol>
<li><strong>Familiar Interface</strong>: Commands should feel like native git</li>
<li><strong>VFS-Aware</strong>: Work with VFS paths, not just filesystem paths</li>
<li><strong>Multi-Repo</strong>: Can operate on multiple repositories simultaneously</li>
<li><strong>Shell-First</strong>: Optimized for interactive shell use, but CLI works too</li>
<li><strong>Non-Destructive Defaults</strong>: Require confirmation for destructive operations</li>
</ol>
<h2 id="use-cases">Use Cases</h2>
<h3 id="in-shell">In Shell</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Navigate to VFS location</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>repoindex:/&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/by-tag/work/active
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Run git status on ALL repos with that tag</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>repoindex:/by-tag/work/active&gt;<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># See recent commits across all active work repos</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>repoindex:/by-tag/work/active&gt;<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>-5
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="c1"># Pull updates for all active work repos</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>repoindex:/by-tag/work/active&gt;<span class="w"> </span>git<span class="w"> </span>pull
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c1"># Navigate to specific repo</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>repoindex:/&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/repos/myproject
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="c1"># Git commands work on single repo</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>repoindex:/repos/myproject&gt;<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--graph<span class="w"> </span>--all
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>repoindex:/repos/myproject&gt;<span class="w"> </span>git<span class="w"> </span>diff
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>repoindex:/repos/myproject&gt;<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Update&quot;</span>
</code></pre></div>
<h3 id="in-cli">In CLI</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Status for specific VFS path</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>repoindex<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>/by-tag/work/active
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Log for specific repo</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>repoindex<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>/repos/myproject<span class="w"> </span>--oneline<span class="w"> </span>-5
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Pull all repos in directory</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>repoindex<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>/by-tag/needs-update
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="c1"># Diff across multiple repos</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>repoindex<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--name-status<span class="w"> </span>/by-language/Python
</code></pre></div>
<h2 id="command-categories">Command Categories</h2>
<h3 id="read-only-commands-safe-no-confirmation">Read-Only Commands (Safe, No Confirmation)</h3>
<ul>
<li><code>git status</code> - Show working tree status</li>
<li><code>git log</code> - Show commit history</li>
<li><code>git diff</code> - Show changes</li>
<li><code>git show</code> - Show commit details</li>
<li><code>git branch</code> - List branches</li>
<li><code>git remote</code> - Show remotes</li>
<li><code>git ls-files</code> - List tracked files</li>
<li><code>git blame</code> - Show line-by-line authorship</li>
</ul>
<h3 id="state-changing-commands-require-confirmation">State-Changing Commands (Require Confirmation)</h3>
<ul>
<li><code>git pull</code> - Pull from remote</li>
<li><code>git fetch</code> - Fetch from remote</li>
<li><code>git push</code> - Push to remote (with --dry-run default?)</li>
<li><code>git checkout</code> / <code>git switch</code> - Switch branches</li>
<li><code>git stash</code> - Stash changes</li>
<li><code>git clean</code> - Remove untracked files</li>
</ul>
<h3 id="write-commands-require-explicit-confirmation">Write Commands (Require Explicit Confirmation)</h3>
<ul>
<li><code>git add</code> - Stage changes</li>
<li><code>git commit</code> - Commit changes</li>
<li><code>git reset</code> - Reset changes</li>
<li><code>git revert</code> - Revert commits</li>
<li><code>git merge</code> - Merge branches</li>
<li><code>git rebase</code> - Rebase branches</li>
</ul>
<h2 id="implementation-structure">Implementation Structure</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>repoindex git &lt;command&gt; [VFS_PATH] [options]
</code></pre></div>
<h3 id="examples">Examples:</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># CLI mode - path is explicit</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>repoindex<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>/by-tag/work/active
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>repoindex<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>/repos/myproject<span class="w"> </span>--oneline<span class="w"> </span>-10
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>repoindex<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>/by-tag/needs-update<span class="w"> </span>--confirm
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1"># Shell mode - path is from cwd</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>repoindex:/by-tag/work/active&gt;<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>repoindex:/repos/myproject&gt;<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>-10
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>repoindex:/by-tag/needs-update&gt;<span class="w"> </span>git<span class="w"> </span>pull
</code></pre></div>
<h2 id="output-formats">Output Formats</h2>
<h3 id="single-repository">Single Repository</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>repoindex<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>/repos/myproject
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>Repository:<span class="w"> </span>myproject<span class="w"> </span><span class="o">(</span>/home/user/repos/myproject<span class="o">)</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>On<span class="w"> </span>branch:<span class="w"> </span>main
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date<span class="w"> </span>with<span class="w"> </span><span class="s1">&#39;origin/main&#39;</span>.
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">  </span>modified:<span class="w">   </span>README.md
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">  </span>modified:<span class="w">   </span>src/main.py
</code></pre></div>
<h3 id="multiple-repositories">Multiple Repositories</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>repoindex<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>/by-tag/work/active
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>Repository:<span class="w"> </span>myproject
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>On<span class="w"> </span>branch:<span class="w"> </span>main
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>Modified:<span class="w"> </span><span class="m">2</span><span class="w"> </span>files
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>Untracked:<span class="w"> </span><span class="m">0</span><span class="w"> </span>files
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>Repository:<span class="w"> </span>another-project
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>On<span class="w"> </span>branch:<span class="w"> </span>develop
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>Clean<span class="w"> </span>working<span class="w"> </span>tree
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>Summary:<span class="w"> </span><span class="m">2</span><span class="w"> </span>repositories,<span class="w"> </span><span class="m">1</span><span class="w"> </span>with<span class="w"> </span>changes
</code></pre></div>
<h3 id="jsonl-mode">JSONL Mode</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>repoindex<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>/by-tag/work/active<span class="w"> </span>--json
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="o">{</span><span class="s2">&quot;repo&quot;</span>:<span class="w"> </span><span class="s2">&quot;myproject&quot;</span>,<span class="w"> </span><span class="s2">&quot;path&quot;</span>:<span class="w"> </span><span class="s2">&quot;/home/user/repos/myproject&quot;</span>,<span class="w"> </span><span class="s2">&quot;branch&quot;</span>:<span class="w"> </span><span class="s2">&quot;main&quot;</span>,<span class="w"> </span><span class="s2">&quot;clean&quot;</span>:<span class="w"> </span>false,<span class="w"> </span><span class="s2">&quot;modified&quot;</span>:<span class="w"> </span><span class="m">2</span><span class="o">}</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="o">{</span><span class="s2">&quot;repo&quot;</span>:<span class="w"> </span><span class="s2">&quot;another-project&quot;</span>,<span class="w"> </span><span class="s2">&quot;path&quot;</span>:<span class="w"> </span><span class="s2">&quot;/home/user/repos/another&quot;</span>,<span class="w"> </span><span class="s2">&quot;branch&quot;</span>:<span class="w"> </span><span class="s2">&quot;develop&quot;</span>,<span class="w"> </span><span class="s2">&quot;clean&quot;</span>:<span class="w"> </span>true,<span class="w"> </span><span class="s2">&quot;modified&quot;</span>:<span class="w"> </span><span class="m">0</span><span class="o">}</span>
</code></pre></div>
<h2 id="command-specific-designs">Command-Specific Designs</h2>
<h3 id="git-status"><code>git status</code></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>Usage:<span class="w"> </span>repoindex<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span><span class="o">[</span>VFS_PATH<span class="o">]</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>Show<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>status<span class="w"> </span><span class="k">for</span><span class="w"> </span>repositories.
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>Options:
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span>--short,<span class="w"> </span>-s<span class="w">          </span>Show<span class="w"> </span>short<span class="w"> </span>format
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span>--branch,<span class="w"> </span>-b<span class="w">         </span>Show<span class="w"> </span>branch<span class="w"> </span>info
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span>--json<span class="w">               </span>Output<span class="w"> </span>as<span class="w"> </span>JSONL
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span>--dirty-only<span class="w">         </span>Show<span class="w"> </span>only<span class="w"> </span>repos<span class="w"> </span>with<span class="w"> </span>changes
</code></pre></div>
<h3 id="git-log"><code>git log</code></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Usage:<span class="w"> </span>repoindex<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span><span class="o">[</span>VFS_PATH<span class="o">]</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Show<span class="w"> </span>commit<span class="w"> </span>history.
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>Options:
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">  </span>--oneline<span class="w">            </span>Show<span class="w"> </span>one<span class="w"> </span>line<span class="w"> </span>per<span class="w"> </span>commit
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">  </span>--graph<span class="w">              </span>Show<span class="w"> </span>commit<span class="w"> </span>graph
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">  </span>--all<span class="w">                </span>Show<span class="w"> </span>all<span class="w"> </span>branches
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">  </span>-n,<span class="w"> </span>--max-count<span class="w"> </span>N<span class="w">    </span>Limit<span class="w"> </span>to<span class="w"> </span>N<span class="w"> </span>commits
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">  </span>--since<span class="w"> </span>DATE<span class="w">         </span>Show<span class="w"> </span>commits<span class="w"> </span>since<span class="w"> </span>date
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">  </span>--author<span class="w"> </span>AUTHOR<span class="w">      </span>Filter<span class="w"> </span>by<span class="w"> </span>author
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">  </span>--json<span class="w">               </span>Output<span class="w"> </span>as<span class="w"> </span>JSONL
</code></pre></div>
<h3 id="git-pull"><code>git pull</code></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Usage:<span class="w"> </span>repoindex<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span><span class="o">[</span>VFS_PATH<span class="o">]</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>Pull<span class="w"> </span>changes<span class="w"> </span>from<span class="w"> </span>remote.
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>Options:
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span>--dry-run<span class="w">            </span>Show<span class="w"> </span>what<span class="w"> </span>would<span class="w"> </span>be<span class="w"> </span>pulled
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span>--confirm<span class="w">            </span>Require<span class="w"> </span>confirmation<span class="w"> </span><span class="k">for</span><span class="w"> </span>each<span class="w"> </span>repo
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span>--no-confirm<span class="w">         </span>Don<span class="err">&#39;</span>t<span class="w"> </span>require<span class="w"> </span>confirmation<span class="w"> </span><span class="o">(</span>use<span class="w"> </span>with<span class="w"> </span>caution!<span class="o">)</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">  </span>--parallel<span class="w">           </span>Pull<span class="w"> </span>repos<span class="w"> </span><span class="k">in</span><span class="w"> </span>parallel
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">  </span>--json<span class="w">               </span>Output<span class="w"> </span>as<span class="w"> </span>JSONL
</code></pre></div>
<h3 id="git-diff"><code>git diff</code></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>Usage:<span class="w"> </span>repoindex<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span><span class="o">[</span>VFS_PATH<span class="o">]</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Show<span class="w"> </span>changes.
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>Options:
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span>--name-only<span class="w">          </span>Show<span class="w"> </span>only<span class="w"> </span>names
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span>--name-status<span class="w">        </span>Show<span class="w"> </span>names<span class="w"> </span>with<span class="w"> </span>status
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span>--stat<span class="w">               </span>Show<span class="w"> </span>stats
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">  </span>--cached,<span class="w"> </span>--staged<span class="w">   </span>Show<span class="w"> </span>staged<span class="w"> </span>changes
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">  </span>--json<span class="w">               </span>Output<span class="w"> </span>as<span class="w"> </span>JSONL
</code></pre></div>
<h2 id="shell-integration">Shell Integration</h2>
<p>In the shell, git commands should:</p>
<ol>
<li>
<p><strong>Use current VFS directory as default path</strong>
   <div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>repoindex:/by-tag/work/active&gt;<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1"># Equivalent to: repoindex git status /by-tag/work/active</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Support relative VFS paths</strong>
   <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>repoindex:/by-tag&gt;<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>work/active
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="c1"># Equivalent to: repoindex git status /by-tag/work/active</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Work on single repos</strong>
   <div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>repoindex:/repos/myproject&gt;<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>-10
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1"># Shows log for just myproject</span>
</code></pre></div></p>
</li>
</ol>
<h2 id="safety-features">Safety Features</h2>
<h3 id="confirmation-prompts">Confirmation Prompts</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>repoindex<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>/by-tag/work/active
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Found<span class="w"> </span><span class="m">5</span><span class="w"> </span>repositories.<span class="w"> </span>Pull<span class="w"> </span>changes?<span class="w"> </span><span class="o">[</span>y/N<span class="o">]</span>:<span class="w"> </span>y
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>Pulling:<span class="w"> </span>myproject...<span class="w"> </span>✓<span class="w"> </span><span class="o">(</span>already<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date<span class="o">)</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>Pulling:<span class="w"> </span>another-project...<span class="w"> </span>✓<span class="w"> </span><span class="o">(</span>fast-forward,<span class="w"> </span><span class="m">3</span><span class="w"> </span>commits<span class="o">)</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>Pulling:<span class="w"> </span>third-project...<span class="w"> </span>✗<span class="w"> </span><span class="o">(</span>merge<span class="w"> </span>conflict,<span class="w"> </span>skipped<span class="o">)</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>Summary:<span class="w"> </span><span class="m">2</span>/5<span class="w"> </span>successful,<span class="w"> </span><span class="m">1</span><span class="w"> </span>failed
</code></pre></div>
<h3 id="dry-run-mode">Dry Run Mode</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>repoindex<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>/by-tag/ready-to-publish<span class="w"> </span>--dry-run
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>Would<span class="w"> </span>push<span class="w"> </span>to<span class="w"> </span>remote:
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">  </span>myproject<span class="w"> </span><span class="o">(</span>main<span class="o">)</span>:<span class="w"> </span><span class="m">2</span><span class="w"> </span>commits
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">  </span>another-project<span class="w"> </span><span class="o">(</span>develop<span class="o">)</span>:<span class="w"> </span><span class="m">1</span><span class="w"> </span>commit
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>Use<span class="w"> </span>--confirm<span class="w"> </span>to<span class="w"> </span>actually<span class="w"> </span>push.
</code></pre></div>
<h2 id="implementation-plan">Implementation Plan</h2>
<h3 id="phase-1-read-only-commands">Phase 1: Read-Only Commands</h3>
<ol>
<li>Implement <code>git status</code></li>
<li>Implement <code>git log</code></li>
<li>Implement <code>git diff</code></li>
<li>Implement <code>git show</code></li>
<li>Implement <code>git branch</code></li>
</ol>
<h3 id="phase-2-fetch-operations">Phase 2: Fetch Operations</h3>
<ol>
<li>Implement <code>git fetch</code></li>
<li>Implement <code>git pull</code> (with confirmation)</li>
<li>Implement <code>git remote</code></li>
</ol>
<h3 id="phase-3-write-operations">Phase 3: Write Operations</h3>
<ol>
<li>Implement <code>git add</code></li>
<li>Implement <code>git commit</code></li>
<li>Implement <code>git push</code> (with confirmation)</li>
<li>Implement <code>git stash</code></li>
</ol>
<h3 id="phase-4-advanced-operations">Phase 4: Advanced Operations</h3>
<ol>
<li>Implement <code>git checkout</code> / <code>git switch</code></li>
<li>Implement <code>git merge</code></li>
<li>Implement <code>git rebase</code></li>
<li>Implement <code>git reset</code></li>
</ol>
<h2 id="file-structure">File Structure</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>repoindex/commands/git.py          # Main git command group
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>repoindex/git_ops/
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    __init__.py
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    status.py                   # Git status operations
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>    log.py                      # Git log operations
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    diff.py                     # Git diff operations
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>    pull.py                     # Git pull operations
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>    commit.py                   # Git commit operations
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>    utils.py                    # Common git utilities
</code></pre></div>
<h2 id="key-implementation-details">Key Implementation Details</h2>
<h3 id="multi-repo-execution">Multi-Repo Execution</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">execute_git_on_repos</span><span class="p">(</span><span class="n">repos</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">git_command</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>                        <span class="n">parallel</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>                        <span class="n">confirm</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute git command on multiple repositories.&quot;&quot;&quot;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>    <span class="k">if</span> <span class="n">confirm</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">repos</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">click</span><span class="o">.</span><span class="n">confirm</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execute on </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">repos</span><span class="p">)</span><span class="si">}</span><span class="s2"> repositories?&quot;</span><span class="p">):</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>            <span class="k">return</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>    <span class="k">if</span> <span class="n">parallel</span><span class="p">:</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>        <span class="c1"># Use threading/multiprocessing</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>        <span class="k">with</span> <span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>            <span class="n">futures</span> <span class="o">=</span> <span class="p">{</span><span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">run_git</span><span class="p">,</span> <span class="n">repo</span><span class="p">,</span> <span class="n">git_command</span><span class="p">):</span> <span class="n">repo</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>                      <span class="k">for</span> <span class="n">repo</span> <span class="ow">in</span> <span class="n">repos</span><span class="p">}</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>            <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">as_completed</span><span class="p">(</span><span class="n">futures</span><span class="p">):</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>                <span class="k">yield</span> <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>        <span class="c1"># Sequential execution</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>        <span class="k">for</span> <span class="n">repo</span> <span class="ow">in</span> <span class="n">repos</span><span class="p">:</span>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>            <span class="k">yield</span> <span class="n">run_git</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">git_command</span><span class="p">)</span>
</code></pre></div>
<h3 id="vfs-path-resolution">VFS Path Resolution</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_repos_from_vfs_path</span><span class="p">(</span><span class="n">vfs_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all repository paths from a VFS path.&quot;&quot;&quot;</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="n">vfs</span> <span class="o">=</span> <span class="n">build_vfs_structure</span><span class="p">(</span><span class="n">load_config</span><span class="p">())</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="n">node</span> <span class="o">=</span> <span class="n">resolve_vfs_path</span><span class="p">(</span><span class="n">vfs</span><span class="p">,</span> <span class="n">vfs_path</span><span class="p">)</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;repository&#39;</span><span class="p">:</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]]</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>    <span class="k">elif</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;symlink&#39;</span><span class="p">:</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]]</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    <span class="k">elif</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;directory&#39;</span><span class="p">:</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>        <span class="c1"># Collect all repos in this directory recursively</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>        <span class="k">return</span> <span class="n">collect_repos_from_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div>
<h2 id="benefits">Benefits</h2>
<ol>
<li><strong>Familiar Commands</strong>: Users already know git</li>
<li><strong>Multi-Repo Power</strong>: Operate on many repos at once</li>
<li><strong>VFS Integration</strong>: Natural fit with VFS navigation</li>
<li><strong>Flexible</strong>: Works in both CLI and shell</li>
<li><strong>Safe</strong>: Confirmation prompts prevent accidents</li>
<li><strong>Scriptable</strong>: JSONL output for automation</li>
</ol>
<h2 id="example-workflows">Example Workflows</h2>
<h3 id="daily-status-check">Daily Status Check</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># In shell</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>repoindex:/&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/by-tag/work/active
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>repoindex:/by-tag/work/active&gt;<span class="w"> </span>git<span class="w"> </span>status<span class="w"> </span>--dirty-only
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="c1"># Shows only repos with uncommitted changes</span>
</code></pre></div>
<h3 id="pull-all-work-repos">Pull All Work Repos</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># In CLI</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>repoindex<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>/by-tag/work<span class="w"> </span>--confirm
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># Pulls updates for all work-tagged repos with confirmation</span>
</code></pre></div>
<h3 id="view-recent-activity">View Recent Activity</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># In shell</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>repoindex:/by-tag/client/acme&gt;<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--since<span class="o">=</span><span class="s2">&quot;1 week ago&quot;</span><span class="w"> </span>--oneline
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1"># Shows commits from last week across all client repos</span>
</code></pre></div>
<h3 id="bulk-operations">Bulk Operations</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># Push all ready repos</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>repoindex<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>/by-tag/ready-to-publish<span class="w"> </span>--dry-run<span class="w">  </span><span class="c1"># Check first</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>repoindex<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>/by-tag/ready-to-publish<span class="w"> </span>--confirm<span class="w">  </span><span class="c1"># Then push</span>
</code></pre></div>
<h2 id="questions-to-consider">Questions to Consider</h2>
<ol>
<li>Should we allow glob patterns in VFS paths? <code>/by-tag/work/*</code></li>
<li>Should we support git aliases/custom shortcuts?</li>
<li>Should there be a <code>--all</code> flag to run on all repos?</li>
<li>How to handle repos in different states (some ahead, some behind)?</li>
<li>Should we add repoindex-specific enhancements (like auto-fix, bulk tagging based on git state)?</li>
</ol>
<h2 id="next-steps">Next Steps</h2>
<ol>
<li>Implement basic <code>git status</code> command</li>
<li>Test with multiple repos</li>
<li>Add to shell as a command</li>
<li>Iterate based on usage</li>
</ol>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>